(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,a,t){e.exports={dropdown:"Dropdown_dropdown__3ma68",dropdown__list:"Dropdown_dropdown__list__2QLQ4","dropdown__list-item":"Dropdown_dropdown__list-item__28s9_","dropdown__list-icon":"Dropdown_dropdown__list-icon__3KLJJ","dropdown__list-label":"Dropdown_dropdown__list-label__19ZvV"}},10:function(e,a,t){e.exports={"overlay-uploadfile":"UploadFile_overlay-uploadfile__3rAbE","overlay-uploadfile__container":"UploadFile_overlay-uploadfile__container__2_z2G","overlay-uploadfile__header-wrapper":"UploadFile_overlay-uploadfile__header-wrapper__2cGbc","overlay-uploadfile__header-icon":"UploadFile_overlay-uploadfile__header-icon__2zVNd","overlay-uploadfile__header-text":"UploadFile_overlay-uploadfile__header-text__2aw--","overlay-uploadfile__form":"UploadFile_overlay-uploadfile__form__FYD2h","overlay-uploadfile__upload-input":"UploadFile_overlay-uploadfile__upload-input__2pACG","overlay-uploadfile__btn-wrapper":"UploadFile_overlay-uploadfile__btn-wrapper__1Ad3t","overlay-uploadfile__cancel-btn":"UploadFile_overlay-uploadfile__cancel-btn__17NNI","overlay-uploadfile__submit-btn":"UploadFile_overlay-uploadfile__submit-btn__34Rx7","overlay-uploadfile__close-btn":"UploadFile_overlay-uploadfile__close-btn__2ShpQ"}},11:function(e,a,t){e.exports={"overlay-rename":"RenameFile_overlay-rename__jHElZ","rename-container":"RenameFile_rename-container__1gd57","rename-container__title-wrapper":"RenameFile_rename-container__title-wrapper__1aeoZ","title-wrapper__icon":"RenameFile_title-wrapper__icon__2oeXP","title-wrapper__title":"RenameFile_title-wrapper__title__2gGNY","rename-container__rename-form":"RenameFile_rename-container__rename-form__3gQm3","rename-form__input":"RenameFile_rename-form__input__18vep","rename-form__btns-wrapper":"RenameFile_rename-form__btns-wrapper__3FW85","rename-form__cancel-btn":"RenameFile_rename-form__cancel-btn__1K2kN","rename-form__submit-btn":"RenameFile_rename-form__submit-btn__2hNpt","rename-container__close-btn":"RenameFile_rename-container__close-btn__2L8Rd"}},16:function(e,a,t){e.exports={header:"Header_header__1ztgY",header__container:"Header_header__container___0pqq",header__link:"Header_header__link__2DsUP","header__link-arrow":"Header_header__link-arrow__1o5dH",header__row:"Header_header__row__dBMwb",shake:"Header_shake__3kGGF",header__search:"Header_header__search__3Sq0a","header__search-form":"Header_header__search-form__22yVD","header__search-input":"Header_header__search-input__3ez8Q","header__search-icon":"Header_header__search-icon__3u2Tz"}},17:function(e,a,t){e.exports={"login-container":"Login_login-container__1av86","login-container__content-wrapper":"Login_login-container__content-wrapper__2-XIG","login-container__logo-wrapper":"Login_login-container__logo-wrapper__1TOuO","logo-wrapper__logo":"Login_logo-wrapper__logo__3_cma","logo-wrapper__logo-text":"Login_logo-wrapper__logo-text__2w8zf","login-container__line":"Login_login-container__line__2F2fJ","login-container__connect-btn":"Login_login-container__connect-btn__2u8KW"}},2:function(e,a,t){e.exports={"overlay-move":"MoveFile_overlay-move__3pS3l","overlay-move__move-container":"MoveFile_overlay-move__move-container__NKYEU","move-container__close-btn":"MoveFile_move-container__close-btn__xjYgu","move-container__title-wrapper":"MoveFile_move-container__title-wrapper__15_vY","move-container__icon":"MoveFile_move-container__icon__3JPa7","move-container__title":"MoveFile_move-container__title__16o51","move-container__path-wrapper":"MoveFile_move-container__path-wrapper__gno-V","path-wrapper__path-label":"MoveFile_path-wrapper__path-label__1y9Z-","path-wrapper__path-text":"MoveFile_path-wrapper__path-text__2CJvV","move-form__folder-container":"MoveFile_move-form__folder-container__2GjTt","move-form__folder-wrapper":"MoveFile_move-form__folder-wrapper__Ui5yH","move-form__folder-radio":"MoveFile_move-form__folder-radio__3wWK1","move-form__folder-checkmark":"MoveFile_move-form__folder-checkmark__1kCFl","move-form__folder-icon":"MoveFile_move-form__folder-icon__W4qRi","move-form__btns-wrapper":"MoveFile_move-form__btns-wrapper__BAZpi","move-form__cancel-btn":"MoveFile_move-form__cancel-btn__3363n","move-form__submit-btn":"MoveFile_move-form__submit-btn__1XkGH"}},20:function(e,a,t){e.exports=t.p+"static/media/lockbox_logo.ed84172e.svg"},22:function(e,a,t){e.exports={home:"Home_home__1VoXv","home__left-container":"Home_home__left-container__3lyc0","home__right-container":"Home_home__right-container__2IruX"}},3:function(e,a,t){e.exports={content:"Content_content__24xyM",content__table:"Content_content__table__3z2_b","content__table-row":"Content_content__table-row__xVQ8q","content__table-dropdown":"Content_content__table-dropdown__3_6nj","content__table-th":"Content_content__table-th__1uDxY","content__table-td":"Content_content__table-td__2zciv",content__link:"Content_content__link__1FM4N","content__table-icon":"Content_content__table-icon__1ooIU"}},42:function(e,a,t){e.exports=t(77)},47:function(e,a,t){},7:function(e,a,t){e.exports={overlay:"Dialog_overlay__3cLp8",Dialog:"Dialog_Dialog__9J_6w",Dialog__header:"Dialog_Dialog__header__1z2bs","Dialog__header-left":"Dialog_Dialog__header-left__1Uja4","Dialog__header-right":"Dialog_Dialog__header-right__GUuF3","Dialog__header-icon":"Dialog_Dialog__header-icon__2We7m","Dialog__header-text":"Dialog_Dialog__header-text__1CGQF","Dialog__header-close":"Dialog_Dialog__header-close__PB5zW",Dialog__content:"Dialog_Dialog__content__380bJ","Dialog__content-text":"Dialog_Dialog__content-text__PJ9qZ","Dialog__content-input":"Dialog_Dialog__content-input__VlidS",Dialog__footer:"Dialog_Dialog__footer__2WBcg","Dialog__footer-create":"Dialog_Dialog__footer-create__2VhM_","Dialog__footer-cancel":"Dialog_Dialog__footer-cancel__26ddl"}},77:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(36),r=t.n(l),c=(t(47),t(15)),_=t(18),i=t(20),s=t.n(i),m=t(17),d=t.n(m),p=function(e){return o.a.createElement("div",{className:d.a["login-container"]},o.a.createElement("div",{className:d.a["login-container__content-wrapper"]},o.a.createElement("div",{className:d.a["login-container__logo-wrapper"]},o.a.createElement("img",{className:d.a["logo-wrapper__logo"],src:s.a}),o.a.createElement("h1",{className:d.a["logo-wrapper__logo-text"]},"LOCKBOX")),o.a.createElement("span",{className:d.a["login-container__line"]}),o.a.createElement("a",{className:d.a["login-container__connect-btn"],href:"https://www.dropbox.com/oauth2/authorize?client_id=h7s722dkxc8lgct&response_type=code&redirect_uri=https://ultraemme.github.io/mandatory-advanced-js5/home"},"CONNECT")))},u=t(4),f=t(37),v=t.n(f),h=t(5),g=new(t(79).a)(window.localStorage.getItem("token"));function b(e){e?window.localStorage.setItem("token",e):window.localStorage.removeItem("token"),g.next(e)}var w=t(16),E=t.n(w),N=function(e){var a=e.currentPath.pathname.substr(1).split("/"),t="";return o.a.createElement("header",{className:E.a.header},o.a.createElement("div",{className:E.a.header__container},a.map(function(e){return t+="/".concat(e),o.a.createElement("div",{key:e,className:E.a.header__row},o.a.createElement(c.b,{className:E.a.header__link,to:t},e),o.a.createElement("span",{className:E.a["header__link-arrow"]}," > "))})),o.a.createElement("div",{className:E.a.header__search},o.a.createElement("form",{className:E.a["header__search-form"]},o.a.createElement("label",{htmlFor:"search"},o.a.createElement("i",{className:"material-icons ".concat(E.a["header__search-icon"])},"search")),o.a.createElement("input",{onChange:e.searchFile,value:e.value||"",className:E.a["header__search-input"],type:"text",name:"search",placeholder:"Search..."}))))},F=t(41),D=t(3),y=t.n(D),k=t(21),x=t.n(k),j=t(1),C=t.n(j),O=function(e){return o.a.createElement("div",{onMouseLeave:e.toggleDropdown,className:C.a.dropdown,style:{top:e.posY-10,left:e.posX-10}},o.a.createElement("ul",{className:C.a.dropdown__list},o.a.createElement("li",{key:"star",className:C.a["dropdown__list-item"]},o.a.createElement("span",{className:"".concat(C.a["dropdown__list-icon"]," material-icons")},"star"),o.a.createElement("span",{className:C.a["dropdown__list-label"]},"Add to favorites")),o.a.createElement("li",{key:"download",onClick:function(){e.toggleDropdown(),e.downloadFile(e.file.name,e.file.path_display,e.file[".tag"])},className:C.a["dropdown__list-item"]},o.a.createElement("span",{className:"".concat(C.a["dropdown__list-icon"]," material-icons")},"arrow_downward"),o.a.createElement("span",{className:C.a["dropdown__list-label"]},"Download")),o.a.createElement("li",{key:"rename",className:C.a["dropdown__list-item"],onClick:function(a){e.toggleDropdown(),e.renameFileFunc(e.file)}},o.a.createElement("span",{className:"".concat(C.a["dropdown__list-icon"]," material-icons")},"create"),o.a.createElement("span",{className:C.a["dropdown__list-label"]},"Rename")),o.a.createElement("li",{key:"copy",className:C.a["dropdown__list-item"],onClick:function(a){e.toggleDropdown(),e.copyFile(e.file)}},">",o.a.createElement("span",{className:"".concat(C.a["dropdown__list-icon"]," material-icons")},"file_copy"),o.a.createElement("span",{className:C.a["dropdown__list-label"]},"Copy")),o.a.createElement("li",{key:"move",className:C.a["dropdown__list-item"],onClick:function(a){e.toggleDropdown(),e.moveFileFunc(e.file)}},o.a.createElement("span",{className:"".concat(C.a["dropdown__list-icon"]," material-icons")},"exit_to_app"),o.a.createElement("span",{className:C.a["dropdown__list-label"]},"Move")),o.a.createElement("li",{key:"delete",onClick:function(){e.toggleDropdown(),e.deleteFile(e.file)},className:C.a["dropdown__list-item"]},o.a.createElement("span",{className:"".concat(C.a["dropdown__list-icon"]," material-icons")},"delete"),o.a.createElement("span",{className:C.a["dropdown__list-label"]},"Delete")),o.a.createElement("li",{key:"log",onClick:function(){return a=e.file,void console.log(a);var a},className:C.a["dropdown__list-item"]},o.a.createElement("span",{className:"".concat(C.a["dropdown__list-icon"]," material-icons")},"info"),o.a.createElement("span",{className:C.a["dropdown__list-label"]},"console.log();"))))};var M=function(e){var a=Object(n.useState)([]),t=Object(u.a)(a,2),l=t[0],r=t[1],_=Object(n.useState)({toggled:!1}),i=Object(u.a)(_,2),s=i[0],m=i[1];function d(e,a){!0===s.toggled?m({toggled:!1}):m({toggled:!0,posX:e.nativeEvent.clientX,posY:e.nativeEvent.clientY,file:a})}return o.a.createElement("section",{className:y.a.content},e.currentFolder?o.a.createElement("table",{className:y.a.content__table},o.a.createElement("thead",null,o.a.createElement("tr",{className:y.a["content__table-row"]},o.a.createElement("th",{className:y.a["content__table-th"]}),o.a.createElement("th",{className:y.a["content__table-th"]}),o.a.createElement("th",{className:y.a["content__table-th"]},"File name"),o.a.createElement("th",{className:y.a["content__table-th"]},"Last modified"),o.a.createElement("th",{className:y.a["content__table-th"]},"Size"),o.a.createElement("th",{className:y.a["content__table-th"]},"Dropdown"))),o.a.createElement("tbody",null,e.currentFolder.map(function(a){return o.a.createElement("tr",{className:y.a["content__table-row"],key:a.id},o.a.createElement("td",{className:y.a["content__table-td"]},o.a.createElement("i",{className:"material-icons",onClick:function(){return function(e){var a=Object(F.a)({},e,{starred:!0}),t=l;t.push(a),r(t)}(a)}},"star")),o.a.createElement("td",{className:y.a["content__table-td"]},"folder"===a[".tag"]?o.a.createElement("i",{className:"material-icons ".concat(y.a["content__table-icon"])},"folder"):o.a.createElement("i",{className:"material-icons ".concat(y.a["content__table-icon"])},"insert_drive_file")),o.a.createElement("td",{className:y.a["content__table-td"]},"folder"===a[".tag"]?o.a.createElement(c.b,{className:y.a.content__link,to:"/home".concat(a.path_display)},a.name):o.a.createElement("span",{className:y.a.content__link,onClick:function(){return e.downloadFile(a.name,a.path_display)}},a.name)),o.a.createElement("td",{className:y.a["content__table-td"]},a.server_modified?(t=a.server_modified,x()(new Date).diff(t,"days")>2?x()(t).format("MMMM Do YYYY, h:mm"):x()(t).fromNow()):null),o.a.createElement("td",{className:y.a["content__table-td"]},function(e){if(e)return e<1e3?e+" bytes":e>=1e3&&e<1e6?(e/1e3).toFixed(2)+" kB":e>=1e6&&e<1e9?(e/1e6).toFixed(2)+" MB":(e/1e9).toFixed(2)+" GB"}(a.size)),o.a.createElement("td",{className:y.a["content__table-td"]},o.a.createElement("span",{onClick:function(e){return d(e,a)},className:"".concat(y.a["content__table-dropdown"]," material-icons")},"more_horiz")));var t}))):o.a.createElement("div",null,"Loading..."),s.toggled?o.a.createElement(O,{copyFile:e.copyFile,downloadFile:e.downloadFile,deleteFile:e.deleteFile,toggleDropdown:d,posX:s.posX,posY:s.posY,file:s.file,renameFileFunc:e.renameFileFunc,moveFileFunc:e.moveFileFunc}):null)},S=t(8),R=t.n(S),U=function(e){return o.a.createElement("nav",{className:R.a.nav},o.a.createElement("div",{className:R.a.nav__head},o.a.createElement("div",{className:R.a["nav__logo-user-wrapper"]},o.a.createElement("img",{className:R.a.nav__logo,src:s.a}),o.a.createElement("div",{className:R.a["nav__user-wrapper"]},o.a.createElement("h4",{className:R.a.nav__username},e.user.display_name),o.a.createElement("h5",{className:R.a.nav__email},e.user.email))),o.a.createElement("button",{className:R.a["nav__logout-btn"],onClick:e.signOut},"Sign out")),o.a.createElement("div",{className:R.a["nav__btns-container"]},o.a.createElement("ul",{className:R.a.nav__ul},o.a.createElement("li",null,o.a.createElement(c.b,{to:"/home"},"Files")),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/home/favorites"},"Favorites"))),o.a.createElement("span",{className:R.a.nav__line}),o.a.createElement("ul",{className:R.a.nav__ul},o.a.createElement("li",null,o.a.createElement("button",{onClick:e.uploadFile},"Upload file")),o.a.createElement("li",null,o.a.createElement("button",null,"Upload folder")),o.a.createElement("li",null,o.a.createElement("button",{onClick:e.newFile},"New folder")))))},L=t(22),T=t.n(L),H=t(7),z=t.n(H),Y=function(e){var a=Object(n.useState)(""),t=Object(u.a)(a,2),l=t[0],r=t[1];return o.a.createElement("div",{className:z.a.overlay},o.a.createElement("div",{className:z.a.Dialog},o.a.createElement("div",{className:z.a.Dialog__header},o.a.createElement("div",{className:z.a["Dialog__header-left"]},o.a.createElement("i",{className:"material-icons ".concat(z.a["Dialog__header-icon"])},"folder"),o.a.createElement("span",{className:z.a["Dialog__header-text"]},"Create New Folder")),o.a.createElement("div",{className:z.a["Dialog__header-right"]},o.a.createElement("i",{onClick:e.exitDialog,className:"material-icons ".concat(z.a["Dialog__header-close"])},"close"))),o.a.createElement("div",{className:z.a.Dialog__content},o.a.createElement("span",{className:z.a["Dialog__content-text"]},"Give this folder a name"),o.a.createElement("input",{onChange:function(e){r(e.target.value)},value:l,type:"text",className:z.a["Dialog__content-input"],placeholder:"Folder Name..."})),o.a.createElement("div",{className:z.a.Dialog__footer},o.a.createElement("button",{onClick:e.exitDialog,className:z.a["Dialog__footer-cancel"]},"Cancel"),o.a.createElement("button",{onClick:function(){var a=new h.Dropbox({accessToken:g.value,fetch:fetch});console.log("dbx",a),a.filesCreateFolder({path:e.currentPath+"/"+l}).then(function(){return e.exitDialog()})},className:z.a["Dialog__footer-create"]},"Create"))))},G=t(10),B=t.n(G),J=function(e){var a=Object(n.useRef)(null);return o.a.createElement("div",{className:B.a["overlay-uploadfile"]},o.a.createElement("div",{className:B.a["overlay-uploadfile__container"]},o.a.createElement("i",{className:"material-icons ".concat(B.a["overlay-uploadfile__close-btn"]),onClick:e.closeClick},"close"),o.a.createElement("div",{className:B.a["overlay-uploadfile__header-wrapper"]},o.a.createElement("i",{className:"material-icons ".concat(B.a["overlay-uploadfile__header-icon"])},"insert_drive_file"),o.a.createElement("h4",{className:B.a["overlay-uploadfile__header-text"]},"Upload File")),o.a.createElement("form",{className:B.a["overlay-uploadfile__form"],onSubmit:function(t){t.preventDefault(),console.log(),e.uploadFileRequest(a.current.files)}},o.a.createElement("input",{className:B.a["overlay-uploadfile__upload-input"],type:"file",ref:a}),o.a.createElement("div",{className:B.a["overlay-uploadfile__btn-wrapper"]},o.a.createElement("button",{className:B.a["overlay-uploadfile__cancel-btn"],onClick:function(a){a.preventDefault(a),e.closeClick()}},"Cancel"),o.a.createElement("button",{className:B.a["overlay-uploadfile__submit-btn"],type:"submit"},"Upload")))))},q=t(11),V=t.n(q),A=function(e){return o.a.createElement("div",{className:V.a["overlay-rename"]},o.a.createElement("div",{className:V.a["rename-container"]},o.a.createElement("i",{className:"material-icons ".concat(V.a["rename-container__close-btn"]),onClick:e.closeRenameFile},"close"),o.a.createElement("span",{className:V.a["rename-container__title-wrapper"]},o.a.createElement("i",{className:"material-icons ".concat(V.a["title-wrapper__icon"])},"create"),o.a.createElement("h4",{className:V.a["title-wrapper__title"]},"Rename File")),o.a.createElement("form",{className:V.a["rename-container__rename-form"],onSubmit:function(a){a.preventDefault(),e.renameFileRequest()}},o.a.createElement("input",{className:V.a["rename-form__input"],type:"text",value:e.fileData.fileName,onChange:e.onRenameFileChange}),o.a.createElement("span",{className:V.a["rename-form__btns-wrapper"]},o.a.createElement("button",{className:V.a["rename-form__cancel-btn"],onClick:e.closeRenameFile},"Cancel"),o.a.createElement("button",{className:V.a["rename-form__submit-btn"]},"Rename")))))},P=t(2),W=t.n(P);var X=function(e){var a=Object(n.useState)([]),t=Object(u.a)(a,2),l=t[0],r=t[1],c=Object(n.useState)(""),_=Object(u.a)(c,2),i=_[0],s=_[1];function m(e){console.log(e.target.value),s(e.target.value)}return Object(n.useEffect)(function(){new h.Dropbox({accessToken:g.value,fetch:fetch}).filesListFolder({path:"",recursive:!0}).then(function(e){var a=e.entries.filter(function(e){return"folder"===e[".tag"]});r(a)})},[]),o.a.createElement("div",{className:W.a["overlay-move"]},o.a.createElement("div",{className:W.a["overlay-move__move-container"]},o.a.createElement("i",{className:"material-icons ".concat(W.a["move-container__close-btn"]),onClick:e.closeMoveFile},"close"),o.a.createElement("span",{className:W.a["move-container__title-wrapper"]},o.a.createElement("span",{className:"".concat(W.a["move-container__icon"]," material-icons")},"exit_to_app"),o.a.createElement("h4",{className:W.a["move-container__title"]},"Move File")),o.a.createElement("div",{className:W.a["move-container__path-wrapper"]},o.a.createElement("label",{className:W.a["path-wrapper__path-label"]},"From: ",o.a.createElement("span",{className:W.a["path-wrapper__path-text"]},function(e){var a=e.split("/");return a.pop(),a.join(" > ")}("Home".concat(e.selectedFile.path_display)))),o.a.createElement("label",{className:W.a["path-wrapper__path-label"]},"To: ",o.a.createElement("span",{className:W.a["path-wrapper__path-text"]},function(e){if(console.log(e),"/"===e)return"Home";if(!e)return"";var a=e.split("/").join(" > ");return a="Home "+a}("".concat(i))))),o.a.createElement("div",{className:W.a["move-form__folder-container"]},o.a.createElement("div",{className:W.a["move-form__folder-wrapper"]},o.a.createElement("input",{className:W.a["move-form__folder-radio"],type:"radio",name:"folder",value:"/",onChange:m}),o.a.createElement("span",{className:W.a["move-form__folder-checkmark"]},o.a.createElement("i",{className:"material-icons ".concat(W.a["move-form__folder-icon"])},"folder"),"Home")),l.map(function(e){return o.a.createElement("div",{className:W.a["move-form__folder-wrapper"],key:e.id},o.a.createElement("input",{className:W.a["move-form__folder-radio"],type:"radio",name:"folder",value:e.path_lower,onChange:m}),o.a.createElement("span",{className:W.a["move-form__folder-checkmark"]},o.a.createElement("i",{className:"material-icons ".concat(W.a["move-form__folder-icon"])},"folder"),e.name))})),o.a.createElement("span",{className:W.a["move-form__btns-wrapper"]},o.a.createElement("button",{className:W.a["move-form__cancel-btn"],onClick:e.closeMoveFile},"Cancel"),o.a.createElement("button",{className:W.a["move-form__submit-btn"],onClick:function(){return e.moveFileRequest(e.selectedFile,i)}},"Move file"))))},Z=t(40),I=function(e){var a=e.location.pathname.substr(5),t=Object(n.useState)(!1),l=Object(u.a)(t,2),r=l[0],c=l[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)({}),f=Object(u.a)(p,2),w=f[0],E=f[1],F=Object(n.useState)(!1),D=Object(u.a)(F,2),y=D[0],k=D[1],x=Object(n.useState)({}),j=Object(u.a)(x,2),C=j[0],O=j[1],S=Object(n.useState)(!1),R=Object(u.a)(S,2),L=R[0],H=R[1],z=Object(n.useState)([]),G=Object(u.a)(z,2),B=G[0],q=G[1],V=Object(n.useState)(!1),P=Object(u.a)(V,2),W=P[0],I=P[1],K=Object(n.useState)(!1),Q=Object(u.a)(K,2),$=Q[0],ee=Q[1],ae=Object(n.useState)({}),te=Object(u.a)(ae,2),ne=te[0],oe=te[1],le=Object(n.useState)(),re=Object(u.a)(le,2),ce=re[0],_e=re[1],ie=Object(Z.useDebounce)(ce,500),se=Object(u.a)(ie,1)[0];return Object(n.useEffect)(function(){var e=window.location.search.replace("?code=",""),a="https://api.dropboxapi.com/oauth2/token?code=".concat(e,"&grant_type=authorization_code&redirect_uri=https://ultraemme.github.io/mandatory-advanced-js5/home&client_id=h7s722dkxc8lgct&client_secret=u81zydr2i3rbxth");g.value?ee(!0):v.a.post(a).then(function(e){console.log(e),b(e.data.access_token),ee(!0)}).catch(function(e){console.log(e.response.data),I(!0)})},[]),Object(n.useEffect)(function(){if($){var e=new h.Dropbox({accessToken:g.value,fetch:fetch});e.usersGetCurrentAccount().then(function(e){console.log(e);var a={display_name:e.name.display_name,email:e.email};oe(a)}),e.filesListFolder({path:a}).then(function(e){console.log(e),q(e.entries)})}},[$]),Object(n.useEffect)(function(){$&&new h.Dropbox({accessToken:g.value,fetch:fetch}).filesListFolder({path:a}).then(function(e){q(e.entries)})},[a,L]),Object(n.useEffect)(function(){ce?new h.Dropbox({accessToken:g.value,fetch:fetch}).filesSearch({path:a,query:ce}).then(function(e){var a=e.matches.map(function(e){return e.metadata});q(a)}):new h.Dropbox({accessToken:g.value,fetch:fetch}).filesListFolder({path:a}).then(function(e){q(e.entries)})},[se]),o.a.createElement(o.a.Fragment,null,W?o.a.createElement(_.a,{to:"/"}):o.a.createElement("div",{className:T.a.home},o.a.createElement("div",{className:T.a["home__left-container"]},o.a.createElement(U,{newFile:function(){return H(!0)},uploadFile:function(){return c(!0)},signOut:function(){I(!0),b(null)},user:ne})),o.a.createElement("div",{className:T.a["home__right-container"]},o.a.createElement(N,{currentPath:e.location,searchFile:function(e){_e(e.target.value)},value:ce}),o.a.createElement(M,{currentFolder:B,currentPath:a,downloadFile:function(e,a,t){"folder"===t[".tag"]?new h.Dropbox({accessToken:g.value,fetch:fetch}).filesDownloadZip({path:a}).then(function(e){var a=URL.createObjectURL(e.fileBlob),t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",e.name),t.click()}):new h.Dropbox({accessToken:g.value,fetch:fetch}).filesDownload({path:a}).then(function(e){var a=URL.createObjectURL(e.fileBlob),t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download",e.name),t.click()})},renameFileFunc:function(e){var a={fileName:e.name,path:e.path_display};E(a),d(!0)},deleteFile:function(e){new h.Dropbox({accessToken:g.value,fetch:fetch}).filesDeleteV2({path:e.path_lower}).then(function(a){console.log(a);var t=B.filter(function(a){return e!==a});q(t)}).catch(function(e){console.error(e)})},moveFileFunc:function(e){O(e),k(!0)}}))),y?o.a.createElement(X,{closeMoveFile:function(){return k(!1)},moveFileRequest:function(e,t){new h.Dropbox({accessToken:g.value,fetch:fetch}).filesMoveV2({from_path:e.path_lower,to_path:"".concat(t,"/").concat(e.name)}).then(function(e){console.log(e),new h.Dropbox({accessToken:g.value,fetch:fetch}).filesListFolder({path:a}).then(function(e){q(e.entries),k(!1)})}).catch(function(e){console.log(e),k(!1)})},selectedFile:C}):null,m?o.a.createElement(A,{fileData:w,onRenameFileChange:function(e){var a=JSON.parse(JSON.stringify(w));a.fileName=e.target.value,E(a)},renameFileRequest:function(){var e=JSON.parse(JSON.stringify(w)),t=e.path;(t=t.split("/"))[t.length-1]=e.fileName,t=t.join("/"),new h.Dropbox({accessToken:g.value,fetch:fetch}).filesMoveV2({from_path:e.path,to_path:t}).then(function(e){new h.Dropbox({accessToken:g.value,fetch:fetch}).filesListFolder({path:a}).then(function(e){q(e.entries),d(!1)})})},closeRenameFile:function(){return d(!1)}}):null,r?o.a.createElement(J,{closeClick:function(){return c(!1)},uploadFileRequest:function(e){e.length&&(e[0].size<15e7?(console.log("The size is lower than 150 MB"),new h.Dropbox({accessToken:g.value,fetch:fetch}).filesUpload({contents:e[0],path:"".concat(a,"/").concat(e[0].name),mode:"add",autorename:!0,mute:!1,strict_conflict:!1}).then(function(e){new h.Dropbox({accessToken:g.value,fetch:fetch}).filesListFolder({path:a}).then(function(e){q(e.entries),c(!1)})})):(console.log("The size is HIGHER than 150 MB"),new h.Dropbox({accessToken:g.value,fetch:fetch}).filesUploadSessionStart({contents:e[0],close:!1}).then(function(t){new h.Dropbox({accessToken:g.value,fetch:fetch}).filesUploadSessionFinish({cursor:{session_id:t.session_id,offset:e[0].size},commit:{path:"".concat(a,"/").concat(e[0].name),mode:"add",autorename:!0,mute:!1,strict_conflict:!1}}).then(function(e){new h.Dropbox({accessToken:g.value,fetch:fetch}).filesListFolder({path:a}).then(function(e){q(e.entries),c(!1)})})})))}}):null,!0===L?o.a.createElement(Y,{currentPath:a,exitDialog:function(){return H(!1)}}):null)};var K=function(){return console.log("2: /mandatory-advanced-js5"),o.a.createElement(c.a,{basename:"/mandatory-advanced-js5"},o.a.createElement("div",null,o.a.createElement(_.b,{exact:!0,path:"/",component:p}),o.a.createElement(_.b,{path:"/home",component:I})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,a,t){e.exports={nav:"Navigation_nav__12vr4",nav__head:"Navigation_nav__head__2WTfW","nav__logo-user-wrapper":"Navigation_nav__logo-user-wrapper__2kwNy",nav__logo:"Navigation_nav__logo__2C-rN","nav__user-wrapper":"Navigation_nav__user-wrapper__Vr9lk",nav__username:"Navigation_nav__username__ajZeZ",nav__email:"Navigation_nav__email__UvAKj","nav__logout-btn":"Navigation_nav__logout-btn__191Dw","nav__btns-container":"Navigation_nav__btns-container__3iZ3k",nav__line:"Navigation_nav__line__OipM2",nav__ul:"Navigation_nav__ul__2PdUn"}}},[[42,1,2]]]);
//# sourceMappingURL=main.1dcca0e5.chunk.js.map