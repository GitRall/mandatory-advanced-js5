{"version":3,"sources":["Components/Dropdown.module.css","Components/UploadFile.module.css","Components/RenameFile.module.css","Components/Header.module.css","Components/Login.module.css","Components/MoveFile.module.css","lockbox_logo.svg","Components/Home.module.css","Components/Content.module.css","Components/Dialog.module.css","Components/Login.js","Store.js","Components/Header.js","Components/Dropdown.js","Components/Content.js","Components/Navigation.js","Components/Dialog.js","Components/UploadFile.js","Components/RenameFile.js","Components/MoveFile.js","Components/Home.js","App.js","serviceWorker.js","index.js","Components/Navigation.module.css"],"names":["module","exports","dropdown","dropdown__list","dropdown__list-item","dropdown__list-icon","dropdown__list-label","overlay-uploadfile","overlay-uploadfile__container","overlay-uploadfile__header-wrapper","overlay-uploadfile__header-icon","overlay-uploadfile__header-text","overlay-uploadfile__form","overlay-uploadfile__upload-input","overlay-uploadfile__btn-wrapper","overlay-uploadfile__cancel-btn","overlay-uploadfile__submit-btn","overlay-uploadfile__close-btn","overlay-rename","rename-container","rename-container__title-wrapper","title-wrapper__icon","title-wrapper__title","rename-container__rename-form","rename-form__input","rename-form__btns-wrapper","rename-form__cancel-btn","rename-form__submit-btn","rename-container__close-btn","header","header__container","header__link","header__link-arrow","header__row","shake","header__search","header__search-form","header__search-input","header__search-icon","login-container","login-container__content-wrapper","login-container__logo-wrapper","logo-wrapper__logo","logo-wrapper__logo-text","login-container__line","login-container__connect-btn","overlay-move","overlay-move__move-container","move-container__close-btn","move-container__title-wrapper","move-container__icon","move-container__title","move-container__path-wrapper","path-wrapper__path-label","path-wrapper__path-text","move-form__folder-container","move-form__folder-wrapper","move-form__folder-radio","move-form__folder-checkmark","move-form__folder-icon","move-form__btns-wrapper","move-form__cancel-btn","move-form__submit-btn","__webpack_require__","p","home","home__left-container","home__right-container","content","content__table","content__table-row","content__table-dropdown","content__table-th","content__table-td","content__link","content__table-icon","overlay","Dialog","Dialog__header","Dialog__header-left","Dialog__header-right","Dialog__header-icon","Dialog__header-text","Dialog__header-close","Dialog__content","Dialog__content-text","Dialog__content-input","Dialog__footer","Dialog__footer-create","Dialog__footer-cancel","Login","props","react_default","a","createElement","className","styles","src","logo","href","token$","BehaviorSubject","window","localStorage","getItem","updateToken","newToken","setItem","removeItem","next","Header","pathArr","currentPath","pathname","substr","split","currentDir","map","path","concat","key","react_router_dom","to","htmlFor","onChange","searchFile","value","type","name","placeholder","Dropdown","onMouseLeave","toggleDropdown","style","top","posY","left","posX","onClick","downloadFile","file","path_display","e","renameFileFunc","copyFile","moveFileFunc","deleteFile","console","log","Content","_useState","useState","_useState2","Object","slicedToArray","stars","setStars","_useState3","toggled","_useState4","setDropdown","nativeEvent","clientX","clientY","currentFolder","id","starredFile","objectSpread","starred","arr","push","addFavorite","server_modified","date","moment","Date","diff","format","fromNow","byte","toFixed","formatSize","size","Components_Dropdown","Navigation","nav","user","display_name","email","signOut","uploadFile","newFile","folderName","setFoldername","exitDialog","target","dbx","Dropbox","accessToken","fetch","filesCreateFolder","then","UploadFile","fileInputRef","useRef","closeClick","onSubmit","preventDefault","uploadFileRequest","current","files","ref","RenameFile","closeRenameFile","renameFileRequest","fileData","fileName","onRenameFileChange","MoveFile","folderList","setFolderList","selectedPath","setSelectedPath","onChangeTest","useEffect","filesListFolder","recursive","res","newFolderList","entries","filter","entry","closeMoveFile","pathSplit","pop","join","formatFromPath","selectedFile","rv","formatToPath","folder","path_lower","moveFileRequest","Home","location","setUploadFile","renameFile","setRenameFile","_useState5","_useState6","renameFileData","setRenameFileData","_useState7","_useState8","moveFile","setMoveFile","_useState9","_useState10","moveFileData","setmoveFileData","_useState11","_useState12","newFolder","setNewFolder","_useState13","_useState14","setCurrentFolder","_useState15","_useState16","redirectLogout","setRedirectLogout","_useState17","_useState18","didMount","setDidMount","_useState19","_useState20","setUser","_useState21","_useState22","searchValue","setSearchValue","_useDebounce","useDebounce","debouncedQuery","token","search","replace","API","axios","post","data","access_token","catch","err","response","usersGetCurrentAccount","filesSearch","query","matches","metadata","Fragment","react_router","Components_Navigation","Components_Header","Components_Content","filePath","filesDownloadZip","url","URL","createObjectURL","fileBlob","downloadButton","document","setAttribute","click","filesDownload","filesDeleteV2","t","error","Components_MoveFile","toPath","filesMoveV2","from_path","to_path","Components_RenameFile","JSON","parse","stringify","newPath","length","Components_UploadFile","filesUpload","contents","mode","autorename","mute","strict_conflict","filesUploadSessionStart","close","filesUploadSessionFinish","cursor","session_id","offset","commit","Components_Dialog","App","basename","exact","process","component","Boolean","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister","nav__head","nav__logo-user-wrapper","nav__logo","nav__user-wrapper","nav__username","nav__email","nav__logout-btn","nav__btns-container","nav__line","nav__ul"],"mappings":"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","file":"static/js/main.1c02cf4f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__3ma68\",\"dropdown__list\":\"Dropdown_dropdown__list__2QLQ4\",\"dropdown__list-item\":\"Dropdown_dropdown__list-item__28s9_\",\"dropdown__list-icon\":\"Dropdown_dropdown__list-icon__3KLJJ\",\"dropdown__list-label\":\"Dropdown_dropdown__list-label__19ZvV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay-uploadfile\":\"UploadFile_overlay-uploadfile__3rAbE\",\"overlay-uploadfile__container\":\"UploadFile_overlay-uploadfile__container__2_z2G\",\"overlay-uploadfile__header-wrapper\":\"UploadFile_overlay-uploadfile__header-wrapper__2cGbc\",\"overlay-uploadfile__header-icon\":\"UploadFile_overlay-uploadfile__header-icon__2zVNd\",\"overlay-uploadfile__header-text\":\"UploadFile_overlay-uploadfile__header-text__2aw--\",\"overlay-uploadfile__form\":\"UploadFile_overlay-uploadfile__form__FYD2h\",\"overlay-uploadfile__upload-input\":\"UploadFile_overlay-uploadfile__upload-input__2pACG\",\"overlay-uploadfile__btn-wrapper\":\"UploadFile_overlay-uploadfile__btn-wrapper__1Ad3t\",\"overlay-uploadfile__cancel-btn\":\"UploadFile_overlay-uploadfile__cancel-btn__17NNI\",\"overlay-uploadfile__submit-btn\":\"UploadFile_overlay-uploadfile__submit-btn__34Rx7\",\"overlay-uploadfile__close-btn\":\"UploadFile_overlay-uploadfile__close-btn__2ShpQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay-rename\":\"RenameFile_overlay-rename__jHElZ\",\"rename-container\":\"RenameFile_rename-container__1gd57\",\"rename-container__title-wrapper\":\"RenameFile_rename-container__title-wrapper__1aeoZ\",\"title-wrapper__icon\":\"RenameFile_title-wrapper__icon__2oeXP\",\"title-wrapper__title\":\"RenameFile_title-wrapper__title__2gGNY\",\"rename-container__rename-form\":\"RenameFile_rename-container__rename-form__3gQm3\",\"rename-form__input\":\"RenameFile_rename-form__input__18vep\",\"rename-form__btns-wrapper\":\"RenameFile_rename-form__btns-wrapper__3FW85\",\"rename-form__cancel-btn\":\"RenameFile_rename-form__cancel-btn__1K2kN\",\"rename-form__submit-btn\":\"RenameFile_rename-form__submit-btn__2hNpt\",\"rename-container__close-btn\":\"RenameFile_rename-container__close-btn__2L8Rd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1ztgY\",\"header__container\":\"Header_header__container___0pqq\",\"header__link\":\"Header_header__link__2DsUP\",\"header__link-arrow\":\"Header_header__link-arrow__1o5dH\",\"header__row\":\"Header_header__row__dBMwb\",\"shake\":\"Header_shake__3kGGF\",\"header__search\":\"Header_header__search__3Sq0a\",\"header__search-form\":\"Header_header__search-form__22yVD\",\"header__search-input\":\"Header_header__search-input__3ez8Q\",\"header__search-icon\":\"Header_header__search-icon__3u2Tz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-container\":\"Login_login-container__1av86\",\"login-container__content-wrapper\":\"Login_login-container__content-wrapper__2-XIG\",\"login-container__logo-wrapper\":\"Login_login-container__logo-wrapper__1TOuO\",\"logo-wrapper__logo\":\"Login_logo-wrapper__logo__3_cma\",\"logo-wrapper__logo-text\":\"Login_logo-wrapper__logo-text__2w8zf\",\"login-container__line\":\"Login_login-container__line__2F2fJ\",\"login-container__connect-btn\":\"Login_login-container__connect-btn__2u8KW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay-move\":\"MoveFile_overlay-move__3pS3l\",\"overlay-move__move-container\":\"MoveFile_overlay-move__move-container__NKYEU\",\"move-container__close-btn\":\"MoveFile_move-container__close-btn__xjYgu\",\"move-container__title-wrapper\":\"MoveFile_move-container__title-wrapper__15_vY\",\"move-container__icon\":\"MoveFile_move-container__icon__3JPa7\",\"move-container__title\":\"MoveFile_move-container__title__16o51\",\"move-container__path-wrapper\":\"MoveFile_move-container__path-wrapper__gno-V\",\"path-wrapper__path-label\":\"MoveFile_path-wrapper__path-label__1y9Z-\",\"path-wrapper__path-text\":\"MoveFile_path-wrapper__path-text__2CJvV\",\"move-form__folder-container\":\"MoveFile_move-form__folder-container__2GjTt\",\"move-form__folder-wrapper\":\"MoveFile_move-form__folder-wrapper__Ui5yH\",\"move-form__folder-radio\":\"MoveFile_move-form__folder-radio__3wWK1\",\"move-form__folder-checkmark\":\"MoveFile_move-form__folder-checkmark__1kCFl\",\"move-form__folder-icon\":\"MoveFile_move-form__folder-icon__W4qRi\",\"move-form__btns-wrapper\":\"MoveFile_move-form__btns-wrapper__BAZpi\",\"move-form__cancel-btn\":\"MoveFile_move-form__cancel-btn__3363n\",\"move-form__submit-btn\":\"MoveFile_move-form__submit-btn__1XkGH\"};","module.exports = __webpack_public_path__ + \"static/media/lockbox_logo.ed84172e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__1VoXv\",\"home__left-container\":\"Home_home__left-container__3lyc0\",\"home__right-container\":\"Home_home__right-container__2IruX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__24xyM\",\"content__table\":\"Content_content__table__3z2_b\",\"content__table-row\":\"Content_content__table-row__xVQ8q\",\"content__table-dropdown\":\"Content_content__table-dropdown__3_6nj\",\"content__table-th\":\"Content_content__table-th__1uDxY\",\"content__table-td\":\"Content_content__table-td__2zciv\",\"content__link\":\"Content_content__link__1FM4N\",\"content__table-icon\":\"Content_content__table-icon__1ooIU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Dialog_overlay__3cLp8\",\"Dialog\":\"Dialog_Dialog__9J_6w\",\"Dialog__header\":\"Dialog_Dialog__header__1z2bs\",\"Dialog__header-left\":\"Dialog_Dialog__header-left__1Uja4\",\"Dialog__header-right\":\"Dialog_Dialog__header-right__GUuF3\",\"Dialog__header-icon\":\"Dialog_Dialog__header-icon__2We7m\",\"Dialog__header-text\":\"Dialog_Dialog__header-text__1CGQF\",\"Dialog__header-close\":\"Dialog_Dialog__header-close__PB5zW\",\"Dialog__content\":\"Dialog_Dialog__content__380bJ\",\"Dialog__content-text\":\"Dialog_Dialog__content-text__PJ9qZ\",\"Dialog__content-input\":\"Dialog_Dialog__content-input__VlidS\",\"Dialog__footer\":\"Dialog_Dialog__footer__2WBcg\",\"Dialog__footer-create\":\"Dialog_Dialog__footer-create__2VhM_\",\"Dialog__footer-cancel\":\"Dialog_Dialog__footer-cancel__26ddl\"};","import React from 'react';\r\nimport logo from '../lockbox_logo.svg';\r\nimport styles from './Login.module.css';\r\n\r\nconst Login = (props) => {\r\n  return (\r\n    <div className={styles['login-container']}>\r\n      <div className={styles['login-container__content-wrapper']}>\r\n        <div className={styles['login-container__logo-wrapper']}>\r\n          <img className={styles['logo-wrapper__logo']} src={logo}></img>\r\n          <h1 className={styles['logo-wrapper__logo-text']}>LOCKBOX</h1>\r\n        </div>\r\n        <span className={styles['login-container__line']}></span>\r\n        <a className={styles['login-container__connect-btn']} href='https://www.dropbox.com/oauth2/authorize?client_id=h7s722dkxc8lgct&response_type=code&redirect_uri=http://localhost:3000/home'>CONNECT</a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Login;\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport const token$ = new BehaviorSubject(window.localStorage.getItem('token'));\r\n\r\nexport function updateToken(newToken){\r\n  newToken ? window.localStorage.setItem('token', newToken) : window.localStorage.removeItem('token')\r\n  token$.next(newToken);\r\n}\r\n","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst Header = (props) => {\r\n  const pathArr = props.currentPath.pathname.substr(1).split('/');\r\n  let currentDir = \"\";\r\n  return (\r\n    <header className={styles.header}>\r\n      {<div className={styles.header__container}>\r\n        {\r\n          pathArr.map((path) => {\r\n            currentDir += `/${path}`;\r\n            return (\r\n              <div key={path} className={styles.header__row} >\r\n                <Link className={styles['header__link']} to={currentDir}>{path}</Link>\r\n                <span className={styles['header__link-arrow']}> > </span>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n      }\r\n      <div className={styles.header__search}>\r\n        <form className={styles['header__search-form']} >\r\n          <label htmlFor=\"search\">\r\n            <i className={`material-icons ${styles['header__search-icon']}`}>search</i>\r\n          </label>\r\n          <input onChange={props.searchFile} value={props.value|| ''} className={styles['header__search-input']} type=\"text\" name=\"search\" placeholder=\"Search...\" />\r\n        </form>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\nexport default Header;\r\n","import React from 'react';\r\nimport styles from './Dropdown.module.css';\r\n\r\nconst Dropdown = (props) => {\r\n\r\n  function logFile (file) { //temporary\r\n    console.log(file);\r\n  }\r\n\r\n  function deleteFile() {\r\n    props.toggleDropdown();\r\n    props.deleteFile(props.file);\r\n  }\r\n  function downloadFile() {\r\n    props.toggleDropdown();\r\n    props.downloadFile(props.file.name, props.file.path_display, props.file['.tag']);\r\n  }\r\n  function renameFile(e){\r\n    props.toggleDropdown();\r\n    props.renameFileFunc(props.file);\r\n  }\r\n  function moveFile(e){\r\n    props.toggleDropdown();\r\n    props.moveFileFunc(props.file);\r\n  }\r\n  function copyFile (e) {\r\n    props.toggleDropdown();\r\n    props.copyFile(props.file);\r\n  }\r\n  return (\r\n    <div onMouseLeave={props.toggleDropdown} className={styles.dropdown} style={{top: props.posY-10, left: props.posX-10}}>\r\n      <ul className={styles.dropdown__list}>\r\n        <li key={\"star\"} className={styles['dropdown__list-item']}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>star</span>\r\n          <span className={styles['dropdown__list-label']}>Add to favorites</span>\r\n        </li>\r\n        <li key={\"download\"} onClick={downloadFile} className={styles['dropdown__list-item']}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>arrow_downward</span>\r\n          <span className={styles['dropdown__list-label']}>Download</span>\r\n        </li>\r\n        <li key={\"rename\"} className={styles['dropdown__list-item']} onClick={renameFile}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>create</span>\r\n          <span className={styles['dropdown__list-label']}>Rename</span>\r\n        </li>\r\n        <li key={\"copy\"} className={styles['dropdown__list-item']} onClick={copyFile}>>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>file_copy</span>\r\n          <span className={styles['dropdown__list-label']}>Copy</span>\r\n        </li>\r\n        <li key={\"move\"} className={styles['dropdown__list-item']} onClick={moveFile}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>exit_to_app</span>\r\n          <span className={styles['dropdown__list-label']}>Move</span>\r\n        </li>\r\n        <li key={\"delete\"} onClick={deleteFile} className={styles['dropdown__list-item']}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>delete</span>\r\n          <span className={styles['dropdown__list-label']}>Delete</span>\r\n        </li>\r\n        <li key={\"log\"} onClick={() => logFile(props.file)} className={styles['dropdown__list-item']}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>info</span>\r\n          <span className={styles['dropdown__list-label']}>console.log();</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dropdown;\r\n","import React, { useState } from 'react';\r\nimport styles from './Content.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport Dropdown from './Dropdown';\r\n\r\nfunction formatLastModified (date) {\r\n  if (moment(new Date()).diff(date, 'days') > 2) {\r\n    return moment(date).format('MMMM Do YYYY, h:mm')\r\n  } else {\r\n    return moment(date).fromNow();\r\n  }\r\n}\r\nfunction getFileType(tag){\r\n  return tag === 'folder' ?\r\n    <i className={`material-icons ${styles['content__table-icon']}`}>folder</i> :\r\n    <i className={`material-icons ${styles['content__table-icon']}`}>insert_drive_file</i>\r\n}\r\nfunction formatSize(byte){\r\n  if(!byte) return;\r\n  if(byte < 1000){\r\n    return byte + ' bytes';\r\n  }\r\n  else if(byte >= 1000 && byte < 1000000){\r\n    let kiloByte = (byte / 1000).toFixed(2) + ' kB';\r\n    return kiloByte\r\n  }\r\n  else if(byte >= 1000000 && byte < 1000000000){\r\n    let megaByte = (byte / 1000000).toFixed(2) + ' MB';\r\n    return megaByte;\r\n  }\r\n  else{\r\n    let gigaByte = (byte / 1000000000).toFixed(2) + ' GB';\r\n    return gigaByte;\r\n  }\r\n}\r\n\r\nconst Content = (props) => {\r\n  const [stars, setStars] = useState([]);\r\n  const [dropdown, setDropdown] = useState({toggled: false});\r\n\r\n  function toggleDropdown (e, file) {\r\n    if (dropdown.toggled === true) {\r\n      setDropdown({toggled: false});\r\n    } else {\r\n      setDropdown({toggled: true, posX: e.nativeEvent.clientX, posY: e.nativeEvent.clientY, file});\r\n    }\r\n  }\r\n\r\n  function addFavorite (file) {\r\n    let starredFile = {...file, starred: true}; //to indicate if starred, probably not needed\r\n    let arr = stars;\r\n    arr.push(starredFile);\r\n    setStars(arr);\r\n  }\r\n\r\n  return (\r\n    <section className={styles.content}>\r\n      {\r\n        !props.currentFolder ? <div>Loading...</div> :\r\n        <table className={styles['content__table']}>\r\n          <thead>\r\n            <tr className={styles['content__table-row']}>\r\n              <th className={styles['content__table-th']}></th>\r\n              <th className={styles['content__table-th']}></th>\r\n              <th className={styles['content__table-th']}>File name</th>\r\n              <th className={styles['content__table-th']}>Last modified</th>\r\n              <th className={styles['content__table-th']}>Size</th>\r\n              <th className={styles['content__table-th']}>Dropdown</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {props.currentFolder.map((file) => {\r\n              {/* console.log(file); */}\r\n              return (\r\n                <tr className={styles['content__table-row']} key={file.id}>\r\n                  <td className={styles['content__table-td']}><i className=\"material-icons\" onClick={() => addFavorite(file)}>star</i></td>\r\n                  <td className={styles['content__table-td']}>{getFileType(file['.tag'])}</td>\r\n                  <td className={styles['content__table-td']}>{file['.tag'] === 'folder' ? <Link className={styles['content__link']} to={`/home${file.path_display}`}>{file.name}</Link> : <span className={styles['content__link']} onClick={() => props.downloadFile(file.name, file.path_display)}>{file.name}</span>}</td>\r\n                  <td className={styles['content__table-td']}>{file.server_modified ? formatLastModified(file.server_modified) : null}</td>\r\n                  <td className={styles['content__table-td']}>{formatSize(file.size)}</td>\r\n                  <td className={styles['content__table-td']}><span onClick={(e) => toggleDropdown(e, file)} className={`${styles['content__table-dropdown']} material-icons`}>more_horiz</span></td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n       </table>\r\n      }\r\n      {dropdown.toggled ? <Dropdown copyFile={props.copyFile} downloadFile={props.downloadFile} deleteFile={props.deleteFile} toggleDropdown={toggleDropdown} posX={dropdown.posX} posY={dropdown.posY} file={dropdown.file} renameFileFunc={props.renameFileFunc} moveFileFunc={props.moveFileFunc}/> : null}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Content;\r\n","import React from 'react';\r\nimport styles from './Navigation.module.css';\r\nimport logo from '../lockbox_logo.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navigation = (props) => {\r\n\r\n  return (\r\n    <nav className={styles.nav}>\r\n      <div className={styles['nav__head']}>\r\n        <div className={styles['nav__logo-user-wrapper']}>\r\n          <img className={styles['nav__logo']} src={logo}></img>\r\n          <div className={styles['nav__user-wrapper']}>\r\n            <h4 className={styles['nav__username']}>{props.user.display_name}</h4>\r\n            <h5 className={styles['nav__email']}>{props.user.email}</h5>\r\n          </div>\r\n        </div>\r\n        <button className={styles['nav__logout-btn']} onClick={props.signOut}>Sign out</button>\r\n      </div>\r\n      <div className={styles['nav__btns-container']}>\r\n        <ul className={styles['nav__ul']}>\r\n          <li>\r\n            <Link to=\"/home\">Files</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/home/favorites\">Favorites</Link>\r\n          </li>\r\n        </ul>\r\n        <span className={styles['nav__line']}></span>\r\n        <ul className={styles['nav__ul']}>\r\n          <li>\r\n            <button onClick={props.uploadFile}>Upload file</button>\r\n          </li>\r\n          <li>\r\n            <button>Upload folder</button>\r\n          </li>\r\n          <li>\r\n            <button onClick={props.newFile}>New folder</button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navigation;\r\n","import React,{useState, useEffect} from 'react';\r\nimport styles from './Dialog.module.css';\r\nimport { Dropbox } from 'dropbox';\r\nimport { token$, updateToken } from '../Store';\r\n\r\nconst Dialog = (props) => {\r\n    const [folderName,setFoldername] = useState(\"\");\r\n\r\n    function handleFolderName(e) {\r\n        setFoldername(e.target.value);\r\n    }\r\n    function handleNewFolder() {\r\n        let dbx = new Dropbox({accessToken: token$.value, fetch});\r\n        console.log('dbx', dbx); //list methods\r\n        dbx.filesCreateFolder({ path: props.currentPath + \"/\" + folderName})\r\n        .then(()=> props.exitDialog());\r\n    }\r\n    return (\r\n        <div className={styles.overlay}>\r\n            <div className={styles.Dialog}>\r\n                <div className={styles.Dialog__header}>\r\n                    <div className={styles['Dialog__header-left']}>\r\n                        <i className={`material-icons ${styles['Dialog__header-icon']}`}>folder</i>\r\n                        <span className={styles['Dialog__header-text']}>Create New Folder</span>\r\n                    </div>\r\n\r\n                    <div className={styles['Dialog__header-right']}>\r\n                        <i onClick={props.exitDialog} className={`material-icons ${styles['Dialog__header-close']}`}>close</i>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.Dialog__content}>\r\n                    <span className={styles['Dialog__content-text']} >Give this folder a name</span>\r\n                    <input onChange={handleFolderName} value={folderName} type=\"text\" className={styles['Dialog__content-input']} placeholder=\"Folder Name...\" />\r\n                </div>\r\n                <div className={styles.Dialog__footer}>\r\n                    <button onClick={props.exitDialog} className={styles['Dialog__footer-cancel']}>Cancel</button>\r\n                    <button onClick={handleNewFolder} className={styles['Dialog__footer-create']}>Create</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialog;\r\n","import React, { useRef } from 'react';\r\nimport styles from './UploadFile.module.css';\r\nconst UploadFile = (props) => {\r\n  const fileInputRef = useRef(null)\r\n\r\n  function OnCancelClick(e){\r\n    e.preventDefault(e);\r\n    props.closeClick();\r\n  }\r\n  function onUploadSubmit(e){\r\n    e.preventDefault();\r\n    console.log()\r\n    props.uploadFileRequest(fileInputRef.current.files);\r\n  }\r\n\r\n  return (\r\n    <div className={styles['overlay-uploadfile']}>\r\n      <div className={styles['overlay-uploadfile__container']}>\r\n        <i className={`material-icons ${styles['overlay-uploadfile__close-btn']}`} onClick={props.closeClick}>close</i>\r\n        <div className={styles['overlay-uploadfile__header-wrapper']}>\r\n          <i className={`material-icons ${styles['overlay-uploadfile__header-icon']}`}>insert_drive_file</i>\r\n          <h4 className={styles['overlay-uploadfile__header-text']}>Upload File</h4>\r\n        </div>\r\n        <form className={styles['overlay-uploadfile__form']} onSubmit={onUploadSubmit}>\r\n          <input className={styles['overlay-uploadfile__upload-input']} type='file' ref={fileInputRef}></input>\r\n          <div className={styles['overlay-uploadfile__btn-wrapper']}>\r\n            <button className={styles['overlay-uploadfile__cancel-btn']} onClick={OnCancelClick}>Cancel</button>\r\n            <button className={styles['overlay-uploadfile__submit-btn']} type='submit'>Upload</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadFile;\r\n","import React from 'react';\r\nimport styles from './RenameFile.module.css';\r\n\r\nconst RenameFile = (props) => {\r\n  function onRenameSubmit(e){\r\n    e.preventDefault();\r\n    props.renameFileRequest();\r\n  }\r\n\r\n  return (\r\n    <div className={styles['overlay-rename']}>\r\n      <div className={styles['rename-container']}>\r\n        <i className={`material-icons ${styles['rename-container__close-btn']}`} onClick={props.closeRenameFile}>close</i>\r\n        <span className={styles['rename-container__title-wrapper']}>\r\n          <i className={`material-icons ${styles['title-wrapper__icon']}`}>create</i>\r\n          <h4 className={styles['title-wrapper__title']}>Rename File</h4>\r\n        </span>\r\n        <form className={styles['rename-container__rename-form']} onSubmit={onRenameSubmit}>\r\n          <input className={styles['rename-form__input']} type='text' value={props.fileData.fileName} onChange={props.onRenameFileChange}/>\r\n          <span className={styles['rename-form__btns-wrapper']}>\r\n            <button className={styles['rename-form__cancel-btn']} onClick={props.closeRenameFile}>Cancel</button>\r\n            <button className={styles['rename-form__submit-btn']}>Rename</button>\r\n          </span>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RenameFile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './MoveFile.module.css';\r\nimport { Dropbox } from 'dropbox';\r\nimport { token$ } from '../Store';\r\n\r\nfunction formatFromPath(path){\r\n  let pathSplit = path.split('/');\r\n  pathSplit.pop();\r\n  let rv = pathSplit.join(' > ');\r\n  return rv;\r\n}\r\nfunction formatToPath(path){\r\n  console.log(path);\r\n  if(path === '/'){\r\n    return 'Home';\r\n  }\r\n  else if(!path){\r\n    return '';\r\n  }\r\n  let pathSplit = path.split('/');\r\n  let rv = pathSplit.join(' > ');\r\n  rv = 'Home ' + rv;\r\n  return rv;\r\n}\r\nconst MoveFile = (props) => {\r\n  const [folderList, setFolderList] = useState([]);\r\n  const [selectedPath, setSelectedPath] = useState('');\r\n\r\n  function onChangeTest(e){\r\n    console.log(e.target.value);\r\n    setSelectedPath(e.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n    dbx.filesListFolder({\r\n      path: '',\r\n      recursive: true,\r\n    })\r\n    .then((res) => {\r\n      let newFolderList = res.entries.filter((entry) => {\r\n        return entry['.tag'] === 'folder';\r\n      })\r\n      setFolderList(newFolderList);\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className={styles['overlay-move']}>\r\n      <div className={styles['overlay-move__move-container']}>\r\n        <i className={`material-icons ${styles['move-container__close-btn']}`} onClick={props.closeMoveFile}>close</i>\r\n        <span className={styles['move-container__title-wrapper']}>\r\n          <span className={`${styles['move-container__icon']} material-icons`}>exit_to_app</span>\r\n          <h4 className={styles['move-container__title']}>Move File</h4>\r\n        </span>\r\n        <div className={styles['move-container__path-wrapper']}>\r\n          <label className={styles['path-wrapper__path-label']}>From: <span className={styles['path-wrapper__path-text']}>{formatFromPath(`Home${props.selectedFile.path_display}`)}</span></label>\r\n          <label className={styles['path-wrapper__path-label']}>To: <span className={styles['path-wrapper__path-text']}>{formatToPath(`${selectedPath}`)}</span></label>\r\n        </div>\r\n        <div className={styles['move-form__folder-container']}>\r\n          <div className={styles['move-form__folder-wrapper']}>\r\n            <input className={styles['move-form__folder-radio']} type='radio' name='folder' value='/' onChange={onChangeTest} />\r\n            <span className={styles['move-form__folder-checkmark']}><i className={`material-icons ${styles['move-form__folder-icon']}`}>folder</i>Home</span>\r\n          </div>\r\n          {\r\n            folderList.map((folder) => {\r\n              return (\r\n                <div className={styles['move-form__folder-wrapper']} key={folder.id}>\r\n                  <input className={styles['move-form__folder-radio']} type='radio' name='folder' value={folder.path_lower} onChange={onChangeTest}/>\r\n                  <span className={styles['move-form__folder-checkmark']}><i className={`material-icons ${styles['move-form__folder-icon']}`}>folder</i>{folder.name}</span>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n        <span className={styles['move-form__btns-wrapper']}>\r\n          <button className={styles['move-form__cancel-btn']} onClick={props.closeMoveFile}>Cancel</button>\r\n          <button className={styles['move-form__submit-btn']} onClick={() => props.moveFileRequest(props.selectedFile, selectedPath)}>Move file</button>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MoveFile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Dropbox } from 'dropbox';\r\nimport { token$, updateToken } from '../Store';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Content from './Content';\r\nimport Navigation from './Navigation';\r\nimport styles from './Home.module.css';\r\nimport Dialog from './Dialog';\r\nimport UploadFile from './UploadFile';\r\nimport RenameFile from './RenameFile';\r\nimport MoveFile from './MoveFile';\r\nimport { useDebounce } from \"use-debounce\";\r\n\r\nconst Home = (props) => {\r\n  // console.log(\"HEJ\", props.location);\r\n\r\n  const currentPath = props.location.pathname.substr(5);\r\n  const [uploadFile, setUploadFile] = useState(false);\r\n  const [renameFile, setRenameFile] = useState(false);\r\n  const [renameFileData, setRenameFileData] = useState({});\r\n  const [moveFile, setMoveFile] = useState(false);\r\n  const [moveFileData, setmoveFileData] = useState({})\r\n  const [newFolder, setNewFolder] = useState(false);\r\n  const [currentFolder, setCurrentFolder] = useState([]);\r\n  const [redirectLogout, setRedirectLogout] = useState(false);\r\n  const [didMount, setDidMount] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [searchValue, setSearchValue] = useState();\r\n  const [debouncedQuery] = useDebounce(searchValue, 500);\r\n\r\n\r\n  function signOut() {\r\n    setRedirectLogout(true);\r\n    updateToken(null);\r\n  }\r\n\r\n  function deleteFile(file) {\r\n    //trigger dialog\r\n    const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n    dbx.filesDeleteV2({ path: file.path_lower })\r\n      .then(res => {\r\n        console.log(res);\r\n        let newFolder = currentFolder.filter((t) => {\r\n          return file !== t;\r\n        })\r\n        setCurrentFolder(newFolder);\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n  }\r\n\r\n  function moveFileDialog(file){\r\n    setmoveFileData(file)\r\n    setMoveFile(true);\r\n  }\r\n  function moveFileRequest(file, toPath){\r\n    const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n    dbx.filesMoveV2({\r\n      from_path: file.path_lower,\r\n      to_path: `${toPath}/${file.name}`,\r\n    })\r\n    .then((res) => {\r\n      console.log(res);\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n        .then(res => {\r\n          setCurrentFolder(res.entries);\r\n          setMoveFile(false);\r\n        })\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setMoveFile(false);\r\n    })\r\n  }\r\n  function renameFileDialog(file){\r\n    let fileData = {\r\n      fileName: file.name,\r\n      path: file.path_display,\r\n    }\r\n    setRenameFileData(fileData);\r\n    setRenameFile(true);\r\n  }\r\n  function onRenameFileChange(e){\r\n    let fileData = JSON.parse(JSON.stringify(renameFileData));\r\n    fileData.fileName = e.target.value;\r\n    setRenameFileData(fileData);\r\n  }\r\n  function renameFileRequest(){\r\n    let fileData = JSON.parse(JSON.stringify(renameFileData))\r\n    let newPath = fileData.path;\r\n    newPath = newPath.split('/');\r\n    newPath[newPath.length - 1] = fileData.fileName;\r\n    newPath = newPath.join('/');\r\n\r\n    const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n    dbx.filesMoveV2({\r\n      from_path: fileData.path,\r\n      to_path: newPath,\r\n    })\r\n    .then((res) => {\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n        .then(res => {\r\n          setCurrentFolder(res.entries);\r\n          setRenameFile(false);\r\n        })\r\n    })\r\n  }\r\n\r\n  function downloadFileRequest(fileName, filePath,folder){\r\n    let type = folder['.tag'];\r\n    if (type === \"folder\"){\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesDownloadZip({path: filePath})\r\n      .then((res) => {\r\n        let url = URL.createObjectURL(res.fileBlob);\r\n        let downloadButton = document.createElement('a');\r\n        downloadButton.setAttribute('href', url);\r\n        downloadButton.setAttribute('download', res.name);\r\n        downloadButton.click();\r\n      })\r\n\r\n    }else {\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesDownload({path: filePath})\r\n      .then((res) => {\r\n        let url = URL.createObjectURL(res.fileBlob);\r\n        let downloadButton = document.createElement('a');\r\n        downloadButton.setAttribute('href', url);\r\n        downloadButton.setAttribute('download', res.name);\r\n        downloadButton.click();\r\n      })\r\n    }\r\n  }\r\n\r\n  function uploadFileRequest(files){\r\n    if(!files.length) return;\r\n    if(files[0].size < 150000000){\r\n      console.log('The size is lower than 150 MB')\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesUpload({contents: files[0], path: `${currentPath}/${files[0].name}`, mode: 'add', autorename: true, mute: false, strict_conflict: false})\r\n      .then((res) => {\r\n        const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n        dbx.filesListFolder({path: currentPath})\r\n          .then(res => {\r\n            setCurrentFolder(res.entries);\r\n            setUploadFile(false);\r\n          })\r\n      })\r\n    }\r\n    else{\r\n      console.log('The size is HIGHER than 150 MB');\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesUploadSessionStart({contents: files[0], close: false})\r\n      .then((res) => {\r\n        const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n        dbx.filesUploadSessionFinish({\r\n          cursor: {\r\n            session_id: res.session_id,\r\n            offset: files[0].size,\r\n          },\r\n          commit: {\r\n            path: `${currentPath}/${files[0].name}`,\r\n            mode: 'add',\r\n            autorename: true,\r\n            mute: false,\r\n            strict_conflict: false,\r\n          }\r\n        })\r\n        .then((res) => {\r\n          const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n          dbx.filesListFolder({path: currentPath})\r\n            .then(res => {\r\n              setCurrentFolder(res.entries);\r\n              setUploadFile(false);\r\n            })\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let token = window.location.search.replace('?code=', '');\r\n    const API = `https://api.dropboxapi.com/oauth2/token?code=${token}&grant_type=authorization_code&redirect_uri=http://localhost:3000/home&client_id=h7s722dkxc8lgct&client_secret=u81zydr2i3rbxth`;\r\n\r\n    if (!token$.value) {\r\n      axios.post(API)\r\n      .then((res) => {\r\n        console.log(res);\r\n        updateToken(res.data.access_token);\r\n        setDidMount(true);\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response.data)\r\n        setRedirectLogout(true);\r\n      })\r\n    }\r\n    else{\r\n      setDidMount(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(didMount){\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.usersGetCurrentAccount()\r\n      .then((res) => {\r\n        console.log(res);\r\n        let user = {\r\n          display_name: res.name.display_name,\r\n          email: res.email,\r\n        }\r\n        setUser(user);\r\n      })\r\n      // const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n      .then(res => {\r\n        console.log(res);\r\n        setCurrentFolder(res.entries);\r\n      })\r\n    }\r\n  }, [didMount]);\r\n\r\n  useEffect(() => {\r\n    if (didMount) {\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n        .then(res => {\r\n          setCurrentFolder(res.entries);\r\n        })\r\n    }\r\n  }, [currentPath, newFolder]);\r\n\r\n  // SearchFunction\r\n  useEffect(() => {\r\n    if (!searchValue) {\r\n      const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n      dbx.filesListFolder({ path: currentPath })\r\n        .then(res => {\r\n          setCurrentFolder(res.entries);\r\n        })\r\n    }\r\n    else {\r\n      const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n      dbx.filesSearch({\r\n        path: currentPath,\r\n        query: searchValue,\r\n      })\r\n        .then(res => {\r\n          let value = res.matches.map(file => {\r\n            return file.metadata\r\n          })\r\n          setCurrentFolder(value);\r\n        })\r\n    }\r\n  }, [debouncedQuery])\r\n\r\n  function searchFile (e) {\r\n    setSearchValue(e.target.value);\r\n  }\r\n    // SearchFunction ends\r\n\r\n  return (\r\n    <>\r\n      {\r\n        redirectLogout ? <Redirect to=\"/\"/> :\r\n          <div className={styles.home}>\r\n            <div className={styles['home__left-container']}>\r\n              <Navigation newFile={() => setNewFolder(true)} uploadFile={() => setUploadFile(true)} signOut={signOut} user={user}/>\r\n            </div>\r\n            <div className={styles['home__right-container']}>\r\n              <Header currentPath={props.location} searchFile={searchFile} value={searchValue}/>\r\n              <Content currentFolder={currentFolder} currentPath={currentPath} downloadFile={downloadFileRequest} renameFileFunc={renameFileDialog} deleteFile={deleteFile} moveFileFunc={moveFileDialog}/>\r\n            </div>\r\n          </div>\r\n      }\r\n      {moveFile ? <MoveFile closeMoveFile={() => setMoveFile(false)} moveFileRequest={moveFileRequest} selectedFile={moveFileData}/> : null}\r\n      {renameFile ? <RenameFile fileData={renameFileData} onRenameFileChange={onRenameFileChange} renameFileRequest={renameFileRequest} closeRenameFile={() => setRenameFile(false)}/> : null}\r\n      {uploadFile ? <UploadFile closeClick={() => setUploadFile(false)} uploadFileRequest={uploadFileRequest}/> : null}\r\n      {newFolder === true ? <Dialog currentPath={currentPath} exitDialog={() => setNewFolder(false)} /> : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport Login from './Components/Login';\r\nimport Home from './Components/Home';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router basename=\"/mandatory-advanced-js5\">\r\n      <div>\r\n        <Route exact path={process.env.PUBLIC_URL + '/'} component={Login}/>\r\n        <Route path={process.env.PUBLIC_URL + '/home'} component={Home}/>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__12vr4\",\"nav__head\":\"Navigation_nav__head__2WTfW\",\"nav__logo-user-wrapper\":\"Navigation_nav__logo-user-wrapper__2kwNy\",\"nav__logo\":\"Navigation_nav__logo__2C-rN\",\"nav__user-wrapper\":\"Navigation_nav__user-wrapper__Vr9lk\",\"nav__username\":\"Navigation_nav__username__ajZeZ\",\"nav__email\":\"Navigation_nav__email__UvAKj\",\"nav__logout-btn\":\"Navigation_nav__logout-btn__191Dw\",\"nav__btns-container\":\"Navigation_nav__btns-container__3iZ3k\",\"nav__line\":\"Navigation_nav__line__OipM2\",\"nav__ul\":\"Navigation_nav__ul__2PdUn\"};"],"sourceRoot":""}