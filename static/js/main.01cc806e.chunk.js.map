{"version":3,"sources":["Components/css/MoveFile.module.css","Components/css/RenameFile.module.css","Components/css/Navigation.module.css","Components/css/DeleteFile.module.css","Components/css/Login.module.css","Components/css/Content.module.css","lockbox_logo.svg","Components/css/Home.module.css","Components/css/FileType.module.css","Components/css/Dropdown.module.css","Components/css/Header.module.css","Components/css/UploadFile.module.css","Components/js/Login.js","Store.js","Components/js/FileType.js","Components/js/Header.js","Components/js/Dropdown.js","Components/js/Content.js","Components/js/Navigation.js","Components/js/Dialog.js","Components/js/UploadFile.js","Components/js/RenameFile.js","Components/js/MoveFile.js","Components/js/DeleteFile.js","Components/js/CopyFile.js","Components/js/Home.js","App.js","serviceWorker.js","index.js","Components/css/Dialog.module.css"],"names":["module","exports","overlay-move","overlay-move__move-container","move-container__close-btn","move-container__title-wrapper","move-container__icon","move-container__title","move-container__path-wrapper","path-wrapper__path-label","path-wrapper__path-text","move-form__folder-container","move-form__folder-wrapper","move-form__folder-radio","move-form__folder-checkmark","move-form__folder-icon","move-form__btns-wrapper","move-form__cancel-btn","move-form__submit-btn","overlay-rename","rename-container","rename-container__title-wrapper","title-wrapper__icon","title-wrapper__title","rename-container__rename-form","rename-form__input","rename-form__btns-wrapper","rename-form__cancel-btn","rename-form__submit-btn","rename-container__close-btn","nav","nav__head","nav__logo-user-wrapper","nav__logo","nav__user-wrapper","nav__username","nav__email","nav__logout-btn","nav__btns-container","nav__line","nav__ul","delete-container","delete-container__btns-wrapper","delete-container__submit-btn","delete-container__cancel-btn","delete-container__title-wrapper","title-wrapper__name","delete-container__close-btn","login-container","login-container__content-wrapper","login-container__logo-wrapper","logo-wrapper__logo","logo-wrapper__logo-text","login-container__line","login-container__connect-btn","content","content__table","content__table-row","content__table-dropdown","content__table-th","content__table-td","content__link","content__table-icon","content__star","content__star--active","content__fav-table-td","__webpack_require__","p","home","home__left-container","home__right-container","dropdown","dropdown__list","dropdown__list-item","dropdown__list-icon","dropdown__list-label","header","header__container","header__link","header__link-arrow","header__row","shake","header__search","header__search-form","header__search-input","header__search-icon","header__search-container","header__search-ul","header__search-list","header__search-div","header__search-text","header__search-hide","overlay-uploadfile","overlay-uploadfile__container","overlay-uploadfile__header-wrapper","overlay-uploadfile__header-icon","overlay-uploadfile__header-text","overlay-uploadfile__form","overlay-uploadfile__input-wrapper","overlay-uploadfile__upload-input","overlay-uploadfile__fake-input","overlay-uploadfile__fake-input-icon","overlay-uploadfile__filename","overlay-uploadfile__btn-wrapper","overlay-uploadfile__cancel-btn","overlay-uploadfile__submit-btn","overlay-uploadfile__close-btn","Login","props","react_default","a","createElement","className","styles","src","logo","alt","href","token$","BehaviorSubject","window","localStorage","getItem","updateToken","newToken","setItem","removeItem","next","imageRegEx","FileType","_useState","useState","_useState2","Object","slicedToArray","url","setUrl","useEffect","test","file","name","Dropbox","accessToken","value","fetch","filesGetThumbnail","path","path_lower","size","then","res","urlBlob","URL","createObjectURL","fileBlob","concat","Header","pathArr","currentPath","pathname","substr","split","focus","setFocus","currentDir","list","searchlist","map","key","react_router_dom","to","charAt","toUpperCase","slice","htmlFor","onChange","searchFile","autoComplete","onFocus","onBlur","setTimeout","type","placeholder","Classnames","defineProperty","length","id","onClick","history","push","path_display","str","handleFile","js_FileType","Dropdown","addFavorite","e","toggleDropdown","removeFavorite","onMouseLeave","style","top","posY","left","posX","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","favorites","Symbol","iterator","done","err","return","renderFavoriteAction","downloadFile","renameFileFunc","copyFile","moveFileFunc","deleteFile","Content","toggled","setDropdown","nativeEvent","clientY","view","innerHeight","clientX","currentFolder","renderFavorite","server_modified","date","moment","Date","diff","format","fromNow","byte","toFixed","formatSize","favorite","js_Dropdown","Navigation","user","display_name","email","signOut","uploadFile","newFile","Dialog","folderName","setFolderName","overlay","Dialog__header","exitDialog","Dialog__content","target","Dialog__footer","filesCreateFolderV2","UploadFile","fileList","setFileList","fileInputRef","useRef","closeClick","onSubmit","preventDefault","uploadFileRequest","files","ref","RenameFile","closeRenameFile","renameFileRequest","fileData","fileName","onRenameFileChange","MoveFile","folderList","setFolderList","_useState3","_useState4","selectedPath","setSelectedPath","onChangeFolder","filesListFolder","recursive","newFolderList","entries","filter","entry","closeMoveFile","pathSplit","pop","join","formatFromPath","selectedFile","rv","formatToPath","folder","moveFileRequest","DeleteFile","closeDialog","deleteFileRequest","pollTimeout","CopyFile","onChangeTest","closeCopyFile","copyFileRequest","Home","location","setUploadFile","renameFile","setRenameFile","_useState5","_useState6","renameFileData","setRenameFileData","_useState7","_useState8","moveFile","setMoveFile","_useState9","_useState10","moveFileData","setmoveFileData","_useState11","_useState12","newFolder","setNewFolder","_useState13","_useState14","setCurrentFolder","_useState15","_useState16","currentSearchFolder","setCurrentSearchFolder","_useState17","_useState18","redirectLogout","setRedirectLogout","_useState19","_useState20","didMount","setDidMount","_useState21","_useState22","setUser","_useState23","_useState24","searchValue","setSearchValue","_useDebounce","useDebounce","debouncedQuery","_useState25","_useState26","setDeleteFile","_useState27","_useState28","deleteFileData","setDeleteFileData","_useState29","_useState30","setCopyFile","_useState31","_useState32","copyFileData","setCopyFileData","_useState33","_useState34","setFavorites","restartApiPoll","clearTimeout","deleteFavorite","favList","JSON","parse","newFavList","fav","stringify","updateFavorites","token","search","replace","API","axios","post","data","access_token","catch","console","log","response","dbx","usersGetCurrentAccount","error","filesSearch","query","matches","metadata","Fragment","react_router","js_Navigation","js_Header","js_Content","arr","x","toConsumableArray","filesDownloadZip","downloadButton","document","setAttribute","click","filesDownload","js_MoveFile","toPath","filesMoveV2","from_path","to_path","movedFile","js_CopyFile","filesCopyV2","autorename","js_RenameFile","newPath","renamedFile","js_UploadFile","filesUpload","contents","mode","mute","strict_conflict","filesUploadSessionStart","close","filesUploadSessionFinish","cursor","session_id","offset","commit","js_Dialog","js_DeleteFile","filesDeleteV2","t","App","basename","process","exact","component","Boolean","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister","Dialog__header-left","Dialog__header-right","Dialog__header-icon","Dialog__header-text","Dialog__header-close","Dialog__content-text","Dialog__content-input","Dialog__footer-create","Dialog__footer-cancel"],"mappings":"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","file":"static/js/main.01cc806e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay-move\":\"MoveFile_overlay-move__3BZRm\",\"overlay-move__move-container\":\"MoveFile_overlay-move__move-container__PUUce\",\"move-container__close-btn\":\"MoveFile_move-container__close-btn__uNiWv\",\"move-container__title-wrapper\":\"MoveFile_move-container__title-wrapper__JNrEl\",\"move-container__icon\":\"MoveFile_move-container__icon__2i5pu\",\"move-container__title\":\"MoveFile_move-container__title__2Ymcg\",\"move-container__path-wrapper\":\"MoveFile_move-container__path-wrapper__IDR3V\",\"path-wrapper__path-label\":\"MoveFile_path-wrapper__path-label__WR1P0\",\"path-wrapper__path-text\":\"MoveFile_path-wrapper__path-text__23xDi\",\"move-form__folder-container\":\"MoveFile_move-form__folder-container__2_RQj\",\"move-form__folder-wrapper\":\"MoveFile_move-form__folder-wrapper__2-Knf\",\"move-form__folder-radio\":\"MoveFile_move-form__folder-radio__26LHH\",\"move-form__folder-checkmark\":\"MoveFile_move-form__folder-checkmark__2jXSH\",\"move-form__folder-icon\":\"MoveFile_move-form__folder-icon__2kSxp\",\"move-form__btns-wrapper\":\"MoveFile_move-form__btns-wrapper__2HMxk\",\"move-form__cancel-btn\":\"MoveFile_move-form__cancel-btn__3_Ikp\",\"move-form__submit-btn\":\"MoveFile_move-form__submit-btn__3gY-a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay-rename\":\"RenameFile_overlay-rename__3zlb5\",\"rename-container\":\"RenameFile_rename-container__2iRUD\",\"rename-container__title-wrapper\":\"RenameFile_rename-container__title-wrapper__2uxso\",\"title-wrapper__icon\":\"RenameFile_title-wrapper__icon__27DwX\",\"title-wrapper__title\":\"RenameFile_title-wrapper__title__3jovG\",\"rename-container__rename-form\":\"RenameFile_rename-container__rename-form__2dfhA\",\"rename-form__input\":\"RenameFile_rename-form__input__2GRIO\",\"rename-form__btns-wrapper\":\"RenameFile_rename-form__btns-wrapper__2Rp4M\",\"rename-form__cancel-btn\":\"RenameFile_rename-form__cancel-btn__35AsP\",\"rename-form__submit-btn\":\"RenameFile_rename-form__submit-btn__3F5aK\",\"rename-container__close-btn\":\"RenameFile_rename-container__close-btn__39SuT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__2k9ER\",\"nav__head\":\"Navigation_nav__head__3YF9U\",\"nav__logo-user-wrapper\":\"Navigation_nav__logo-user-wrapper__uANOn\",\"nav__logo\":\"Navigation_nav__logo__1tQb-\",\"nav__user-wrapper\":\"Navigation_nav__user-wrapper__1LY99\",\"nav__username\":\"Navigation_nav__username__1fcbH\",\"nav__email\":\"Navigation_nav__email__1jzdf\",\"nav__logout-btn\":\"Navigation_nav__logout-btn__3xlt1\",\"nav__btns-container\":\"Navigation_nav__btns-container__3eDfW\",\"nav__line\":\"Navigation_nav__line__35Y2Q\",\"nav__ul\":\"Navigation_nav__ul__1qgMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay-rename\":\"DeleteFile_overlay-rename__1NS_Y\",\"delete-container\":\"DeleteFile_delete-container__1V77b\",\"delete-container__btns-wrapper\":\"DeleteFile_delete-container__btns-wrapper__2v9vH\",\"delete-container__submit-btn\":\"DeleteFile_delete-container__submit-btn__32JX4\",\"delete-container__cancel-btn\":\"DeleteFile_delete-container__cancel-btn__3gqeG\",\"delete-container__title-wrapper\":\"DeleteFile_delete-container__title-wrapper__deSTR\",\"title-wrapper__icon\":\"DeleteFile_title-wrapper__icon__2wEZT\",\"title-wrapper__title\":\"DeleteFile_title-wrapper__title__RLV0Y\",\"title-wrapper__name\":\"DeleteFile_title-wrapper__name__hprRa\",\"delete-container__close-btn\":\"DeleteFile_delete-container__close-btn__3sxl1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-container\":\"Login_login-container__3KTh9\",\"login-container__content-wrapper\":\"Login_login-container__content-wrapper__1iUcd\",\"login-container__logo-wrapper\":\"Login_login-container__logo-wrapper__1ZNnK\",\"logo-wrapper__logo\":\"Login_logo-wrapper__logo__nF0Z3\",\"logo-wrapper__logo-text\":\"Login_logo-wrapper__logo-text__35juL\",\"login-container__line\":\"Login_login-container__line__YC0dI\",\"login-container__connect-btn\":\"Login_login-container__connect-btn__gcg4_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__1pIrs\",\"content__table\":\"Content_content__table__3cTbz\",\"content__table-row\":\"Content_content__table-row__1SMON\",\"content__table-dropdown\":\"Content_content__table-dropdown__1ttJ-\",\"content__table-th\":\"Content_content__table-th__3GNkN\",\"content__table-td\":\"Content_content__table-td__18sIP\",\"content__link\":\"Content_content__link__3LXDc\",\"content__table-icon\":\"Content_content__table-icon__1bKpM\",\"content__star\":\"Content_content__star__346b8\",\"content__star--active\":\"Content_content__star--active__FywwN\",\"content__fav-table-td\":\"Content_content__fav-table-td__9lrem\"};","module.exports = __webpack_public_path__ + \"static/media/lockbox_logo.ed84172e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__2FicO\",\"home__left-container\":\"Home_home__left-container__23-g9\",\"home__right-container\":\"Home_home__right-container__2V5q5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content__table-icon\":\"FileType_content__table-icon__1tPMt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__1kesn\",\"dropdown__list\":\"Dropdown_dropdown__list__26mPD\",\"dropdown__list-item\":\"Dropdown_dropdown__list-item__1aaaf\",\"dropdown__list-icon\":\"Dropdown_dropdown__list-icon__aSxJq\",\"dropdown__list-label\":\"Dropdown_dropdown__list-label__262vs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__32prN\",\"header__container\":\"Header_header__container__3aVRG\",\"header__link\":\"Header_header__link__kfbtq\",\"header__link-arrow\":\"Header_header__link-arrow__28E7j\",\"header__row\":\"Header_header__row__4Jzu4\",\"shake\":\"Header_shake__2ZZ58\",\"header__search\":\"Header_header__search__kuHMz\",\"header__search-form\":\"Header_header__search-form__1R_HS\",\"header__search-input\":\"Header_header__search-input__1bnXd\",\"header__search-icon\":\"Header_header__search-icon__84AdW\",\"header__search-container\":\"Header_header__search-container__2ns1c\",\"header__search-ul\":\"Header_header__search-ul__2yyiH\",\"header__search-list\":\"Header_header__search-list__1HYnD\",\"header__search-div\":\"Header_header__search-div__BW6f_\",\"header__search-text\":\"Header_header__search-text__3NYXZ\",\"header__search-hide\":\"Header_header__search-hide__3C63g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay-uploadfile\":\"UploadFile_overlay-uploadfile__3SkyK\",\"overlay-uploadfile__container\":\"UploadFile_overlay-uploadfile__container__1KgqQ\",\"overlay-uploadfile__header-wrapper\":\"UploadFile_overlay-uploadfile__header-wrapper__3oebN\",\"overlay-uploadfile__header-icon\":\"UploadFile_overlay-uploadfile__header-icon__2wOhL\",\"overlay-uploadfile__header-text\":\"UploadFile_overlay-uploadfile__header-text__1mJDk\",\"overlay-uploadfile__form\":\"UploadFile_overlay-uploadfile__form__2ebKq\",\"overlay-uploadfile__input-wrapper\":\"UploadFile_overlay-uploadfile__input-wrapper__3M1Iw\",\"overlay-uploadfile__upload-input\":\"UploadFile_overlay-uploadfile__upload-input__qseWy\",\"overlay-uploadfile__fake-input\":\"UploadFile_overlay-uploadfile__fake-input__35jb4\",\"overlay-uploadfile__fake-input-icon\":\"UploadFile_overlay-uploadfile__fake-input-icon__3Zmo8\",\"overlay-uploadfile__filename\":\"UploadFile_overlay-uploadfile__filename__OoNnI\",\"overlay-uploadfile__btn-wrapper\":\"UploadFile_overlay-uploadfile__btn-wrapper__1-4Cr\",\"overlay-uploadfile__cancel-btn\":\"UploadFile_overlay-uploadfile__cancel-btn__1c7JI\",\"overlay-uploadfile__submit-btn\":\"UploadFile_overlay-uploadfile__submit-btn__1zvT_\",\"overlay-uploadfile__close-btn\":\"UploadFile_overlay-uploadfile__close-btn__zsbB3\"};","import React from 'react';\r\nimport logo from '../../lockbox_logo.svg';\r\nimport styles from '../css/Login.module.css';\r\n\r\nconst Login = (props) => {\r\n  return (\r\n    <div className={styles['login-container']}>\r\n      <div className={styles['login-container__content-wrapper']}>\r\n        <div className={styles['login-container__logo-wrapper']}>\r\n          <img className={styles['logo-wrapper__logo']} src={logo} alt='Lockbox logotype'></img>\r\n          <h1 className={styles['logo-wrapper__logo-text']}>LOCKBOX</h1>\r\n        </div>\r\n        <span className={styles['login-container__line']}></span>\r\n        <a className={styles['login-container__connect-btn']} href='https://www.dropbox.com/oauth2/authorize?client_id=h7s722dkxc8lgct&response_type=code&redirect_uri=https://ultraemme.github.io/mandatory-advanced-js5'>CONNECT</a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Login;\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport const token$ = new BehaviorSubject(window.localStorage.getItem('token'));\r\n\r\nexport function updateToken(newToken){\r\n  newToken ? window.localStorage.setItem('token', newToken) : window.localStorage.removeItem('token')\r\n  token$.next(newToken);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from '../css/FileType.module.css';\r\nimport { Dropbox } from 'dropbox';\r\nimport { token$ } from '../../Store';\r\n\r\nconst imageRegEx = /\\.(gif|jpg|jpeg|tiff|tif|png|bmp)$/i;\r\n\r\nconst FileType = (props) => {\r\n  const [url, setUrl] = useState('');\r\n\r\n  useEffect(() => {\r\n    if(imageRegEx.test(props.file.name)){\r\n      const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n      dbx.filesGetThumbnail({path: props.file.path_lower, size: 'w32h32'})\r\n      .then((res) => {\r\n        let urlBlob = URL.createObjectURL(res.fileBlob);\r\n        setUrl(urlBlob);\r\n      })\r\n    }\r\n  }, [props.file.name, props.file.path_lower])\r\n\r\n  if(props.file['.tag'] === 'folder'){\r\n    return (\r\n      <i className={`material-icons ${styles['content__table-icon']}`}>folder</i>\r\n    )\r\n  }\r\n  else if(imageRegEx.test(props.file.name)){\r\n    return (\r\n      <img src={url} alt={props.file.name}></img>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <i className={`material-icons ${styles['content__table-icon']}`}>insert_drive_file</i>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FileType\r\n","import React, { useState } from 'react';\r\nimport styles from '../css/Header.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport FileType from './FileType';\r\nimport Classnames from \"classnames\"\r\n\r\nconst Header = (props) => {\r\n  const pathArr = props.currentPath.pathname.substr(1).split('/');\r\n  const [focus, setFocus] = useState(false)\r\n  let currentDir = \"\";\r\n  let list =  props.searchlist;\r\n\r\n  function handleFile (file){\r\n    if(file[\".tag\"] === \"folder\"){\r\n      props.history.push(`/home${file.path_display}`);\r\n    }\r\n    else{\r\n      let str = file.path_display.split(\"/\"+ file.name)[0];\r\n      props.history.push(`/home${str}`);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      {<div className={styles.header__container}>\r\n      {\r\n        pathArr.map((path) => {\r\n          currentDir += `/${path}`;\r\n          return (\r\n            <div key={path} className={styles.header__row} >\r\n              <Link className={styles['header__link']} to={currentDir}>{path.charAt(0).toUpperCase() + path.slice(1)}</Link>\r\n              <span className={styles['header__link-arrow']}> > </span>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  }\r\n  <div className={styles.header__search}>\r\n    <form className={styles['header__search-form']} >\r\n      <label htmlFor=\"search\">\r\n        <i className={`material-icons ${styles['header__search-icon']}`}>search</i>\r\n      </label>\r\n      <input\r\n        onChange={props.searchFile}\r\n        autoComplete=\"off\"\r\n        value={props.value || ''}\r\n        className={styles['header__search-input']}\r\n        onFocus={(() => { setFocus(true)})}\r\n        onBlur={(() => { setTimeout(() => setFocus(false), 100) })}\r\n        type=\"text\"\r\n        name=\"search\"\r\n        placeholder=\"Search...\" />\r\n    </form>\r\n    <div  className={Classnames(styles['header__search-container'],\r\n      { [styles['header__search-hide']]: !focus || props.value === \"\" })}>\r\n      <ul className={styles['header__search-ul']}>\r\n        {\r\n          list.length ? list.map(file => {\r\n            return (\r\n              <li key={file.id} onClick={()=>{handleFile(file);props.searchFile(\"\")}} className={styles['header__search-list']}>\r\n                <div className={styles['header__search-div']}>\r\n                  <FileType file={file} />\r\n                  <span className={styles['header__search-text']}>{file.name}</span>\r\n                </div>\r\n              </li>\r\n            )\r\n          }) : <li className={styles['header__search-list']}>\r\n          <div className={styles['header__search-div']}>\r\n            <span className={styles['header__search-text']} >No matches...</span>\r\n          </div>\r\n        </li>\r\n      }\r\n    </ul>\r\n  </div>\r\n</div>\r\n</header>\r\n)\r\n}\r\nexport default Header;\r\n","import React from 'react';\r\nimport styles from '../css/Dropdown.module.css';\r\n\r\nconst Dropdown = (props) => {\r\n  \r\n  function renderFavoriteAction () {\r\n    for (let favorite of props.favorites) {\r\n      if (favorite.id === props.file.id) {\r\n        return (\r\n          <li key={\"star\"} onClick={removeFavorite} className={styles['dropdown__list-item']}>\r\n            <span className={`${styles['dropdown__list-icon']} material-icons`}>star</span>\r\n            <span className={styles['dropdown__list-label']}>Remove from favorites</span>\r\n          </li>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <li key={\"star\"} onClick={addFavorite} className={styles['dropdown__list-item']}>\r\n        <span className={`${styles['dropdown__list-icon']} material-icons`}>star</span>\r\n        <span className={styles['dropdown__list-label']}>Add to favorites</span>\r\n      </li>\r\n    )\r\n  }\r\n\r\n  function addFavorite (e) {\r\n    props.toggleDropdown();\r\n    props.addFavorite(props.file);\r\n  }\r\n\r\n  function removeFavorite (e) {\r\n    props.toggleDropdown();\r\n    props.removeFavorite(props.file);\r\n  }\r\n\r\n  function deleteFile(e) {\r\n    props.toggleDropdown();\r\n    props.deleteFile(props.file);\r\n  }\r\n\r\n  function downloadFile(e) {\r\n    props.toggleDropdown();\r\n    props.downloadFile(props.file);\r\n  }\r\n\r\n  function renameFile(e){\r\n    props.toggleDropdown();\r\n    props.renameFileFunc(props.file);\r\n  }\r\n\r\n  function moveFile(e){\r\n    props.toggleDropdown();\r\n    props.moveFileFunc(props.file);\r\n  }\r\n\r\n  function copyFile (e) {\r\n    props.toggleDropdown();\r\n    props.copyFile(props.file);\r\n  }\r\n\r\n  return (\r\n    <div onMouseLeave={props.toggleDropdown} className={styles.dropdown} style={{top: props.posY, left: props.posX}}>\r\n      <ul className={styles['dropdown__list']}>\r\n        {renderFavoriteAction()}\r\n        <li key={\"download\"} onClick={downloadFile} className={styles['dropdown__list-item']}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>arrow_downward</span>\r\n          <span className={styles['dropdown__list-label']}>Download</span>\r\n        </li>\r\n        <li key={\"rename\"} className={styles['dropdown__list-item']} onClick={renameFile}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>create</span>\r\n          <span className={styles['dropdown__list-label']}>Rename</span>\r\n        </li>\r\n        <li key={\"copy\"} className={styles['dropdown__list-item']} onClick={copyFile}>>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>file_copy</span>\r\n          <span className={styles['dropdown__list-label']}>Copy</span>\r\n        </li>\r\n        <li key={\"move\"} className={styles['dropdown__list-item']} onClick={moveFile}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>exit_to_app</span>\r\n          <span className={styles['dropdown__list-label']}>Move</span>\r\n        </li>\r\n        <li key={\"delete\"} onClick={deleteFile} className={styles['dropdown__list-item']}>\r\n          <span className={`${styles['dropdown__list-icon']} material-icons`}>delete</span>\r\n          <span className={styles['dropdown__list-label']}>Delete</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dropdown;\r\n","import React, { useState } from 'react';\r\nimport styles from '../css/Content.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment/moment';\r\nimport Dropdown from './Dropdown';\r\nimport FileType from './FileType';\r\n\r\nfunction formatLastModified(date) {\r\n  if (moment(new Date()).diff(date, 'days') > 2) {\r\n    return moment(date).format('MMMM Do YYYY, h:mm')\r\n  } else {\r\n    return moment(date).fromNow();\r\n  }\r\n}\r\n\r\nfunction formatSize(byte) {\r\n  if (!byte) return;\r\n  if (byte < 1000) {\r\n    return byte + ' bytes';\r\n  }\r\n  else if (byte >= 1000 && byte < 1000000) {\r\n    let kiloByte = (byte / 1000).toFixed(2) + ' kB';\r\n    return kiloByte\r\n  }\r\n  else if (byte >= 1000000 && byte < 1000000000) {\r\n    let megaByte = (byte / 1000000).toFixed(2) + ' MB';\r\n    return megaByte;\r\n  }\r\n  else {\r\n    let gigaByte = (byte / 1000000000).toFixed(2) + ' GB';\r\n    return gigaByte;\r\n  }\r\n}\r\n\r\nconst Content = (props) => {\r\n  const [dropdown, setDropdown] = useState({ toggled: false });\r\n\r\n  function toggleDropdown(e, file) {\r\n    if (dropdown.toggled === true) {\r\n      setDropdown({ toggled: false });\r\n    } else {\r\n      if (e.nativeEvent.clientY + 222 > e.nativeEvent.view.window.innerHeight) {\r\n        if (e.nativeEvent.clientY > e.nativeEvent.view.window.innerHeight-10) {\r\n          setDropdown({ toggled: true, posX: e.nativeEvent.clientX-10, posY: e.nativeEvent.clientY-221, file });\r\n        } else {\r\n          setDropdown({ toggled: true, posX: e.nativeEvent.clientX-10, posY: e.nativeEvent.clientY-212, file });\r\n        }\r\n      } else {\r\n        setDropdown({ toggled: true, posX: e.nativeEvent.clientX-10, posY: e.nativeEvent.clientY-10, file });\r\n      }\r\n    }\r\n  }\r\n\r\n  function renderFavorite(file) {\r\n    for (let favorite of props.favorites) {\r\n      if (favorite.id === file.id) {\r\n        return <td className={styles['content__table-td']}><i className={`${styles['content__star--active']} material-icons`} onClick={() => props.removeFavorite(file)}>star</i></td>\r\n      }\r\n    }\r\n    return <td className={styles['content__table-td']}><i className={`${styles['content__star']} material-icons`} onClick={() => props.addFavorite(file)}>star</i></td>\r\n  }\r\n\r\n  return (\r\n    <section className={styles.content}>\r\n      {\r\n        !props.currentFolder ? <div>Loading...</div> :\r\n        <table className={styles['content__table']}>\r\n          <thead>\r\n            <tr className={styles['content__table-row']}>\r\n              <th className={styles['content__table-th']}></th>\r\n              <th className={styles['content__table-th']}></th>\r\n              <th className={styles['content__table-th']}>File name</th>\r\n              <th className={styles['content__table-th']}>Last modified</th>\r\n              <th className={styles['content__table-th']}>Size</th>\r\n              <th className={styles['content__table-th']}></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              props.currentFolder.map((file) => {\r\n                return (\r\n                  <tr className={styles['content__table-row']} key={file.id}>\r\n                    {renderFavorite(file)}\r\n                    <td className={styles['content__table-td']}><FileType file={file} /></td>\r\n                    <td className={styles['content__table-td']}>{file['.tag'] === 'folder' ? <Link className={styles['content__link']} to={`/home${file.path_display}`}>{file.name}</Link> : <span className={styles['content__link']} onClick={() => props.downloadFile(file)}>{file.name}</span>}</td>\r\n                    <td className={styles['content__table-td']}>{file.server_modified ? formatLastModified(file.server_modified) : null}</td>\r\n                    <td className={styles['content__table-td']}>{formatSize(file.size)}</td>\r\n                    <td className={styles['content__table-td']}><span onClick={(e) => toggleDropdown(e, file)} className={`${styles['content__table-dropdown']} material-icons`}>more_horiz</span></td>\r\n                  </tr>\r\n                )\r\n              })\r\n            }\r\n          </tbody>\r\n        </table>\r\n      }\r\n      <table className={styles['content__table']}>\r\n        <thead>\r\n          <tr className={styles['content__table-row']}>\r\n            {props.favorites.length ? <th className={styles['content__table-th']}></th> : null}\r\n            {props.favorites.length ? <th className={styles['content__table-th']}></th> : null}\r\n            <th className={styles['content__table-th']}>\r\n              Favorites\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            props.favorites.length ? props.favorites.map(favorite => {\r\n              return (\r\n                <tr className={styles['content__table-row']} key={favorite.id}>\r\n                  <td className={styles['content__fav-table-td']}><i className={`${styles['content__star--active']} material-icons`} onClick={() => props.removeFavorite(favorite)}>star</i></td>\r\n                  <td className={styles['content__fav-table-td']}><FileType file={favorite} /></td>\r\n                  <td className={styles['content__fav-table-td']}>{favorite['.tag'] === 'folder' ? <Link className={styles['content__link']} to={`/home${favorite.path_display}`}>{favorite.name}</Link> : <span className={styles['content__link']} onClick={() => props.downloadFile(favorite)}>{favorite.name}</span>}</td>\r\n                </tr>\r\n              )\r\n            }) : <tr className={styles['content__table-row']}><td className={styles['content__table-td']}>No favorites found :(</td></tr>\r\n            }\r\n          </tbody>\r\n        </table>\r\n        {dropdown.toggled ? <Dropdown favorites={props.favorites} removeFavorite={props.removeFavorite} addFavorite={props.addFavorite} copyFile={props.copyFile} downloadFile={props.downloadFile} deleteFile={props.deleteFile} toggleDropdown={toggleDropdown} posX={dropdown.posX} posY={dropdown.posY} file={dropdown.file} renameFileFunc={props.renameFileFunc} moveFileFunc={props.moveFileFunc} /> : null}\r\n      </section>\r\n    )\r\n  }\r\n\r\n  export default Content;\r\n","import React from 'react';\r\nimport styles from '../css/Navigation.module.css';\r\nimport logo from '../../lockbox_logo.svg';\r\n\r\nconst Navigation = (props) => {\r\n  return (\r\n    <nav className={styles.nav}>\r\n      <div className={styles['nav__head']}>\r\n        <div className={styles['nav__logo-user-wrapper']}>\r\n          <img className={styles['nav__logo']} src={logo} alt='Lockbox logotype'></img>\r\n          <div className={styles['nav__user-wrapper']}>\r\n            <h4 className={styles['nav__username']}>{props.user.display_name}</h4>\r\n            <h5 className={styles['nav__email']}>{props.user.email}</h5>\r\n          </div>\r\n        </div>\r\n        <button className={styles['nav__logout-btn']} onClick={props.signOut}>Sign out</button>\r\n      </div>\r\n      <div className={styles['nav__btns-container']}>\r\n        <ul className={styles['nav__ul']}>\r\n          <li>\r\n            <button onClick={props.uploadFile}>Upload file</button>\r\n          </li>\r\n          <li>\r\n            <button onClick={props.newFile}>New folder</button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { useState } from 'react';\r\nimport styles from '../css/Dialog.module.css';\r\nimport { Dropbox } from 'dropbox';\r\nimport { token$ } from '../../Store';\r\n\r\nconst Dialog = (props) => {\r\n  const [folderName, setFolderName] = useState(\"\");\r\n\r\n  function handleFolderName(e) {\r\n    setFolderName(e.target.value);\r\n  }\r\n\r\n  function handleNewFolder() {\r\n    let dbx = new Dropbox({accessToken: token$.value, fetch});\r\n    dbx.filesCreateFolderV2({ path: props.currentPath + \"/\" + folderName})\r\n    .then(()=> props.exitDialog());\r\n  };\r\n\r\n  return (\r\n    <div className={styles.overlay}>\r\n      <div className={styles.Dialog}>\r\n        <div className={styles.Dialog__header}>\r\n          <div className={styles['Dialog__header-left']}>\r\n            <i className={`material-icons ${styles['Dialog__header-icon']}`}>folder</i>\r\n            <span className={styles['Dialog__header-text']}>Create New Folder</span>\r\n          </div>\r\n          <div className={styles['Dialog__header-right']}>\r\n            <i onClick={props.exitDialog} className={`material-icons ${styles['Dialog__header-close']}`}>close</i>\r\n          </div>\r\n        </div>\r\n        <div className={styles.Dialog__content}>\r\n          <span className={styles['Dialog__content-text']} >Give this folder a name</span>\r\n          <input onChange={handleFolderName} value={folderName} type=\"text\" className={styles['Dialog__content-input']} placeholder=\"Folder Name...\" />\r\n        </div>\r\n        <div className={styles.Dialog__footer}>\r\n          <button onClick={props.exitDialog} className={styles['Dialog__footer-cancel']}>Cancel</button>\r\n          <button onClick={handleNewFolder} className={styles['Dialog__footer-create']}>Create</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialog;\r\n","import React, { useState, useRef } from 'react';\r\nimport styles from '../css/UploadFile.module.css';\r\n\r\nconst UploadFile = (props) => {\r\n  const [fileList, setFileList] = useState({})\r\n  const fileInputRef = useRef(null)\r\n\r\n  function OnCancelClick(e){\r\n    e.preventDefault(e);\r\n    props.closeClick();\r\n  }\r\n\r\n  function onUploadSubmit(e){\r\n    e.preventDefault();\r\n    props.uploadFileRequest(fileList);\r\n  }\r\n\r\n  function onChangeFile(e){\r\n    setFileList(e.target.files);\r\n  }\r\n\r\n  return (\r\n    <div className={styles['overlay-uploadfile']}>\r\n      <div className={styles['overlay-uploadfile__container']}>\r\n        <i className={`material-icons ${styles['overlay-uploadfile__close-btn']}`} onClick={props.closeClick}>close</i>\r\n        <div className={styles['overlay-uploadfile__header-wrapper']}>\r\n          <i className={`material-icons ${styles['overlay-uploadfile__header-icon']}`}>insert_drive_file</i>\r\n          <h4 className={styles['overlay-uploadfile__header-text']}>Upload File</h4>\r\n        </div>\r\n        <form className={styles['overlay-uploadfile__form']} onSubmit={onUploadSubmit}>\r\n          <span className={styles['overlay-uploadfile__input-wrapper']}>\r\n            <input className={styles['overlay-uploadfile__upload-input']} type='file' onChange={onChangeFile} ref={fileInputRef}></input>\r\n            <span className={styles['overlay-uploadfile__fake-input']}><i className={`material-icons ${styles['overlay-uploadfile__fake-input-icon']}`}>arrow_drop_up</i>Choose a file</span>\r\n            {fileList.length ? <span className={styles['overlay-uploadfile__filename']}>{fileList[0].name}</span> : null}\r\n          </span>\r\n          <div className={styles['overlay-uploadfile__btn-wrapper']}>\r\n            <button className={styles['overlay-uploadfile__cancel-btn']} onClick={OnCancelClick}>Cancel</button>\r\n            <button className={styles['overlay-uploadfile__submit-btn']} type='submit'>Upload</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadFile;\r\n","import React from 'react';\r\nimport styles from '../css/RenameFile.module.css';\r\n\r\nconst RenameFile = (props) => {\r\n\r\n  function onRenameSubmit(e){\r\n    e.preventDefault();\r\n    props.renameFileRequest();\r\n  }\r\n\r\n  return (\r\n    <div className={styles['overlay-rename']}>\r\n      <div className={styles['rename-container']}>\r\n        <i className={`material-icons ${styles['rename-container__close-btn']}`} onClick={props.closeRenameFile}>close</i>\r\n        <span className={styles['rename-container__title-wrapper']}>\r\n          <i className={`material-icons ${styles['title-wrapper__icon']}`}>create</i>\r\n          <h4 className={styles['title-wrapper__title']}>Rename File</h4>\r\n        </span>\r\n        <form className={styles['rename-container__rename-form']} onSubmit={onRenameSubmit}>\r\n          <input className={styles['rename-form__input']} type='text' value={props.fileData.fileName} onChange={props.onRenameFileChange}/>\r\n          <span className={styles['rename-form__btns-wrapper']}>\r\n            <button className={styles['rename-form__cancel-btn']} onClick={props.closeRenameFile}>Cancel</button>\r\n            <button className={styles['rename-form__submit-btn']}>Rename</button>\r\n          </span>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RenameFile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from '../css/MoveFile.module.css';\r\nimport { Dropbox } from 'dropbox';\r\nimport { token$ } from '../../Store';\r\n\r\nfunction formatFromPath(path){\r\n  let pathSplit = path.split('/');\r\n  pathSplit.pop();\r\n  let rv = pathSplit.join(' > ');\r\n  return rv;\r\n}\r\n\r\nfunction formatToPath(path){\r\n  if(path === '/'){\r\n    return 'Home';\r\n  }\r\n  else if(!path){\r\n    return '';\r\n  }\r\n  let pathSplit = path.split('/');\r\n  let rv = pathSplit.join(' > ');\r\n  rv = 'Home ' + rv;\r\n  return rv;\r\n}\r\n\r\nconst MoveFile = (props) => {\r\n  const [folderList, setFolderList] = useState([]);\r\n  const [selectedPath, setSelectedPath] = useState('');\r\n\r\n  function onChangeFolder(e){\r\n    setSelectedPath(e.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n    dbx.filesListFolder({\r\n      path: '',\r\n      recursive: true,\r\n    })\r\n    .then((res) => {\r\n      let newFolderList = res.entries.filter((entry) => {\r\n        return entry['.tag'] === 'folder';\r\n      })\r\n      setFolderList(newFolderList);\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className={styles['overlay-move']}>\r\n      <div className={styles['overlay-move__move-container']}>\r\n        <i className={`material-icons ${styles['move-container__close-btn']}`} onClick={props.closeMoveFile}>close</i>\r\n        <span className={styles['move-container__title-wrapper']}>\r\n          <span className={`${styles['move-container__icon']} material-icons`}>exit_to_app</span>\r\n          <h4 className={styles['move-container__title']}>Move File</h4>\r\n        </span>\r\n        <div className={styles['move-container__path-wrapper']}>\r\n          <label className={styles['path-wrapper__path-label']}>From: <span className={styles['path-wrapper__path-text']}>{formatFromPath(`Home${props.selectedFile.path_display}`)}</span></label>\r\n          <label className={styles['path-wrapper__path-label']}>To: <span className={styles['path-wrapper__path-text']}>{formatToPath(`${selectedPath}`)}</span></label>\r\n        </div>\r\n        <div className={styles['move-form__folder-container']}>\r\n          <div className={styles['move-form__folder-wrapper']}>\r\n            <input className={styles['move-form__folder-radio']} type='radio' name='folder' value='/' onChange={onChangeFolder} />\r\n            <span className={styles['move-form__folder-checkmark']}><i className={`material-icons ${styles['move-form__folder-icon']}`}>folder</i>Home</span>\r\n          </div>\r\n          {\r\n            folderList.map((folder) => {\r\n              return (\r\n                <div className={styles['move-form__folder-wrapper']} key={folder.id}>\r\n                  <input className={styles['move-form__folder-radio']} type='radio' name='folder' value={folder.path_lower} onChange={onChangeFolder}/>\r\n                  <span className={styles['move-form__folder-checkmark']}><i className={`material-icons ${styles['move-form__folder-icon']}`}>folder</i>{folder.name}</span>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n        <span className={styles['move-form__btns-wrapper']}>\r\n          <button className={styles['move-form__cancel-btn']} onClick={props.closeMoveFile}>Cancel</button>\r\n          <button className={styles['move-form__submit-btn']} onClick={() => props.moveFileRequest(props.selectedFile, selectedPath)}>Move file</button>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MoveFile;\r\n","import React from 'react';\r\nimport styles from '../css/DeleteFile.module.css';\r\n\r\nconst DeleteFile = (props) => {\r\n  return (\r\n    <div className={styles['overlay-rename']}>\r\n      <div className={styles['delete-container']}>\r\n        <i className={`material-icons ${styles['delete-container__close-btn']}`} onClick={props.closeDialog}>close</i>\r\n        <span className={styles['delete-container__title-wrapper']}>\r\n          <i className={`material-icons ${styles['title-wrapper__icon']}`}>delete</i>\r\n          <h4 className={styles['title-wrapper__title']}>Are you sure you want to delete this file?</h4>\r\n        </span>\r\n        <span className={styles['delete-container__btns-wrapper']}>\r\n          <button className={styles['delete-container__cancel-btn']} onClick={props.closeDialog}>Cancel</button>\r\n          <button className={styles['delete-container__submit-btn']} onClick={() => props.deleteFileRequest(props.file)}>Delete</button>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DeleteFile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from '../css/MoveFile.module.css';\r\nimport { Dropbox } from 'dropbox';\r\nimport { token$ } from '../../Store';\r\n\r\nfunction formatFromPath(path){\r\n  let pathSplit = path.split('/');\r\n  pathSplit.pop();\r\n  let rv = pathSplit.join(' > ');\r\n  return rv;\r\n}\r\n\r\nfunction formatToPath(path){\r\n  if(path === '/'){\r\n    return 'Home';\r\n  }\r\n  else if(!path){\r\n    return '';\r\n  }\r\n  let pathSplit = path.split('/');\r\n  let rv = pathSplit.join(' > ');\r\n  rv = 'Home ' + rv;\r\n  return rv;\r\n}\r\n\r\nconst CopyFile = (props) => {\r\n  const [folderList, setFolderList] = useState([]);\r\n  const [selectedPath, setSelectedPath] = useState('');\r\n\r\n  function onChangeTest(e){\r\n    setSelectedPath(e.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n    dbx.filesListFolder({\r\n      path: '',\r\n      recursive: true,\r\n    })\r\n    .then((res) => {\r\n      let newFolderList = res.entries.filter((entry) => {\r\n        return entry['.tag'] === 'folder';\r\n      })\r\n      setFolderList(newFolderList);\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className={styles['overlay-move']}>\r\n      <div className={styles['overlay-move__move-container']}>\r\n        <i className={`material-icons ${styles['move-container__close-btn']}`} onClick={props.closeCopyFile}>close</i>\r\n        <span className={styles['move-container__title-wrapper']}>\r\n          <span className={`${styles['move-container__icon']} material-icons`}>file_copy</span>\r\n          <h4 className={styles['move-container__title']}>Copy File</h4>\r\n        </span>\r\n        <div className={styles['move-container__path-wrapper']}>\r\n          <label className={styles['path-wrapper__path-label']}>From: <span className={styles['path-wrapper__path-text']}>{formatFromPath(`Home${props.selectedFile.path_display}`)}</span></label>\r\n          <label className={styles['path-wrapper__path-label']}>To: <span className={styles['path-wrapper__path-text']}>{formatToPath(`${selectedPath}`)}</span></label>\r\n        </div>\r\n        <div className={styles['move-form__folder-container']}>\r\n          <div className={styles['move-form__folder-wrapper']}>\r\n            <input className={styles['move-form__folder-radio']} type='radio' name='folder' value='/' onChange={onChangeTest} />\r\n            <span className={styles['move-form__folder-checkmark']}><i className={`material-icons ${styles['move-form__folder-icon']}`}>folder</i>Home</span>\r\n          </div>\r\n          {\r\n            folderList.map((folder) => {\r\n              return (\r\n                <div className={styles['move-form__folder-wrapper']} key={folder.id}>\r\n                  <input className={styles['move-form__folder-radio']} type='radio' name='folder' value={folder.path_lower} onChange={onChangeTest}/>\r\n                  <span className={styles['move-form__folder-checkmark']}><i className={`material-icons ${styles['move-form__folder-icon']}`}>folder</i>{folder.name}</span>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n        <span className={styles['move-form__btns-wrapper']}>\r\n          <button className={styles['move-form__cancel-btn']} onClick={props.closeCopyFile}>Cancel</button>\r\n          <button className={styles['move-form__submit-btn']} onClick={() => props.copyFileRequest(props.selectedFile, selectedPath)}>Copy File</button>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CopyFile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios/index';\r\nimport { Dropbox } from 'dropbox';\r\nimport { token$, updateToken } from '../../Store';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Content from './Content';\r\nimport Navigation from './Navigation';\r\nimport styles from '../css/Home.module.css';\r\nimport Dialog from './Dialog';\r\nimport UploadFile from './UploadFile';\r\nimport RenameFile from './RenameFile';\r\nimport MoveFile from './MoveFile';\r\nimport { useDebounce } from \"use-debounce/src/index\";\r\nimport DeleteFile from './DeleteFile';\r\nimport CopyFile from './CopyFile';\r\n\r\nlet pollTimeout;\r\n\r\nconst Home = (props) => {\r\n  const currentPath = props.location.pathname.substr(5);\r\n  const [uploadFile, setUploadFile] = useState(false);\r\n  const [renameFile, setRenameFile] = useState(false);\r\n  const [renameFileData, setRenameFileData] = useState({});\r\n  const [moveFile, setMoveFile] = useState(false);\r\n  const [moveFileData, setmoveFileData] = useState({});\r\n  const [newFolder, setNewFolder] = useState(false);\r\n  const [currentFolder, setCurrentFolder] = useState([]);\r\n  const [currentSearchFolder,setCurrentSearchFolder] = useState([]);\r\n  const [redirectLogout, setRedirectLogout] = useState(false);\r\n  const [didMount, setDidMount] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [debouncedQuery] = useDebounce(searchValue, 500);\r\n  const [deleteFile, setDeleteFile] = useState(false);\r\n  const [deleteFileData, setDeleteFileData] = useState({});\r\n  const [copyFile, setCopyFile] = useState(false);\r\n  const [copyFileData, setCopyFileData] = useState({})\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  function restartApiPoll(){\r\n    clearTimeout(pollTimeout);\r\n    pollTimeout = setTimeout(() => {\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n      .then((res) => {\r\n        setCurrentFolder(res.entries);\r\n        restartApiPoll();\r\n      })\r\n    }, 5000)\r\n  }\r\n\r\n  function signOut() {\r\n    localStorage.removeItem('lockbox_favorites');\r\n    setRedirectLogout(true);\r\n    updateToken(null);\r\n  }\r\n\r\n  function addFavorite(file) {\r\n    let arr = [...favorites];\r\n    arr.push(file);\r\n    setFavorites(arr);\r\n    localStorage.setItem('lockbox_favorites', JSON.stringify(arr));\r\n  }\r\n\r\n  function removeFavorite(file) {\r\n    let arr = favorites.filter(x => {\r\n      return x.id !== file.id;\r\n    })\r\n    setFavorites(arr);\r\n    localStorage.setItem('lockbox_favorites', JSON.stringify(arr));\r\n  }\r\n\r\n  function deleteFileDialog (file) {\r\n    setDeleteFile(true);\r\n    setDeleteFileData(file)\r\n  }\r\n\r\n  function deleteFileRequest(file) {\r\n    const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n    dbx.filesDeleteV2({ path: file.path_lower })\r\n    .then(res => {\r\n      deleteFavorite(res.metadata);\r\n      let newFolder = currentFolder.filter((t) => {\r\n        return file !== t;\r\n      })\r\n      setDeleteFile(false);\r\n      setCurrentFolder(newFolder);\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n\r\n  function copyFileDialog (file) {\r\n    setCopyFileData(file)\r\n    setCopyFile(true);\r\n  }\r\n\r\n  function copyFileRequest (file, toPath) {\r\n    toPath = (toPath === \"/\") ? \"\" : toPath;\r\n    const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n    dbx.filesCopyV2({\r\n      from_path: file.path_lower,\r\n      to_path: `${toPath}/${file.name}`,\r\n      autorename: true,\r\n    })\r\n    .then(res => {\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n      .then(res => {\r\n        setCurrentFolder(res.entries);\r\n        setCopyFile(false);\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n\r\n  function moveFileDialog(file){\r\n    setmoveFileData(file)\r\n    setMoveFile(true);\r\n  }\r\n\r\n  function deleteFavorite(file){\r\n    let favList = JSON.parse(localStorage.getItem('lockbox_favorites'));\r\n    if (favList) {\r\n      let newFavList = favList.filter((fav) => {\r\n        return file.id !== fav.id;\r\n      })\r\n      setFavorites(newFavList);\r\n      localStorage.setItem('lockbox_favorites', JSON.stringify(newFavList));\r\n    }\r\n  }\r\n\r\n  function updateFavorites(file){\r\n    let favList = JSON.parse(localStorage.getItem('lockbox_favorites'));\r\n    if (favList) {\r\n      let newFavList = favList.map((fav) => {\r\n        if(file.id === fav.id){\r\n          return file;\r\n        }\r\n        else {\r\n          return fav;\r\n        }\r\n      })\r\n      setFavorites(newFavList);\r\n      localStorage.setItem('lockbox_favorites', JSON.stringify(newFavList));\r\n    }\r\n  }\r\n\r\n  function moveFileRequest(file, toPath){\r\n    if(toPath === '/') {\r\n      toPath = '';\r\n    } else if(!toPath) {\r\n      return;\r\n    }\r\n    const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n    dbx.filesMoveV2({\r\n      from_path: file.path_lower,\r\n      to_path: `${toPath}/${file.name}`,\r\n    })\r\n    .then((res) => {\r\n      let movedFile = res.metadata\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n      .then(res => {\r\n        updateFavorites(movedFile);\r\n        setCurrentFolder(res.entries);\r\n        setMoveFile(false);\r\n      })\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setMoveFile(false);\r\n    })\r\n  }\r\n\r\n  function renameFileDialog(file){\r\n    let fileData = {\r\n      fileName: file.name,\r\n      path: file.path_display,\r\n    }\r\n    setRenameFileData(fileData);\r\n    setRenameFile(true);\r\n  }\r\n\r\n  function onRenameFileChange(e){\r\n    let fileData = JSON.parse(JSON.stringify(renameFileData));\r\n    fileData.fileName = e.target.value;\r\n    setRenameFileData(fileData);\r\n  }\r\n\r\n  function renameFileRequest(){\r\n    let fileData = JSON.parse(JSON.stringify(renameFileData))\r\n    let newPath = fileData.path;\r\n    newPath = newPath.split('/');\r\n    newPath[newPath.length - 1] = fileData.fileName;\r\n    newPath = newPath.join('/');\r\n\r\n    const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n    dbx.filesMoveV2({\r\n      from_path: fileData.path,\r\n      to_path: newPath,\r\n    })\r\n    .then((res) => {\r\n      let renamedFile = res.metadata\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n      .then(res => {\r\n        updateFavorites(renamedFile);\r\n        setCurrentFolder(res.entries);\r\n        setRenameFile(false);\r\n      })\r\n    })\r\n  }\r\n\r\n  function downloadFileRequest(file){\r\n    if (file['.tag'] === \"folder\"){\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesDownloadZip({path: file.path_lower})\r\n      .then((res) => {\r\n        let url = URL.createObjectURL(res.fileBlob);\r\n        let downloadButton = document.createElement('a');\r\n        downloadButton.setAttribute('href', url);\r\n        downloadButton.setAttribute('download', res.name);\r\n        downloadButton.click();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response);\r\n      })\r\n    }\r\n    else {\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesDownload({path: file.path_lower})\r\n      .then((res) => {\r\n        let url = URL.createObjectURL(res.fileBlob);\r\n        let downloadButton = document.createElement('a');\r\n        downloadButton.setAttribute('href', url);\r\n        downloadButton.setAttribute('download', res.name);\r\n        downloadButton.click();\r\n      })\r\n      .catch((err) => {\r\n        /* Should remove file from favorites */\r\n        deleteFavorite(file);\r\n        console.log(err.response);\r\n      })\r\n    }\r\n  }\r\n\r\n  function uploadFileRequest(files){\r\n    if(!files.length || files.length > 1) return;\r\n    if(files[0].size < 150000000){\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesUpload({contents: files[0], path: `${currentPath}/${files[0].name}`, mode: 'add', autorename: true, mute: false, strict_conflict: false})\r\n      .then((res) => {\r\n        const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n        dbx.filesListFolder({path: currentPath})\r\n        .then(res => {\r\n          setCurrentFolder(res.entries);\r\n          setUploadFile(false);\r\n        })\r\n      })\r\n    }\r\n    else {\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesUploadSessionStart({contents: files[0], close: false})\r\n      .then((res) => {\r\n        const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n        dbx.filesUploadSessionFinish({\r\n          cursor: {\r\n            session_id: res.session_id,\r\n            offset: files[0].size,\r\n          },\r\n          commit: {\r\n            path: `${currentPath}/${files[0].name}`,\r\n            mode: 'add',\r\n            autorename: true,\r\n            mute: false,\r\n            strict_conflict: false,\r\n          }\r\n        })\r\n        .then((res) => {\r\n          const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n          dbx.filesListFolder({path: currentPath})\r\n          .then(res => {\r\n            setCurrentFolder(res.entries);\r\n            setUploadFile(false);\r\n          })\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let token = window.location.search.replace('?code=', '');\r\n    const API = `https://api.dropboxapi.com/oauth2/token?code=${token}&grant_type=authorization_code&redirect_uri=https://ultraemme.github.io/mandatory-advanced-js5&client_id=h7s722dkxc8lgct&client_secret=u81zydr2i3rbxth`;\r\n    if (!token$.value) {\r\n      axios.post(API)\r\n      .then((res) => {\r\n        updateToken(res.data.access_token);\r\n        setDidMount(true);\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response.data)\r\n        setRedirectLogout(true);\r\n      })\r\n    }\r\n    else{\r\n      setDidMount(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(didMount){\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.usersGetCurrentAccount()\r\n      .then((res) => {\r\n        let user = {\r\n          display_name: res.name.display_name,\r\n          email: res.email,\r\n        }\r\n        setUser(user);\r\n      })\r\n      dbx.filesListFolder({path: currentPath})\r\n      .then(res => {\r\n        setCurrentFolder(res.entries);\r\n        if(localStorage.getItem('lockbox_favorites')) setFavorites(JSON.parse(localStorage.getItem('lockbox_favorites')));\r\n        restartApiPoll();\r\n      })\r\n    }\r\n  }, [didMount]); // eslint-disable-line\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout(pollTimeout);\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (didMount) {\r\n      restartApiPoll();\r\n      const dbx = new Dropbox({accessToken: token$.value, fetch});\r\n      dbx.filesListFolder({path: currentPath})\r\n      .then(res => {\r\n        setCurrentFolder(res.entries);\r\n      })\r\n      .catch(err => {\r\n        console.error(err.response);\r\n      })\r\n    }\r\n  }, [currentPath, newFolder]); // eslint-disable-line\r\n\r\n  // SearchFunction\r\n  useEffect(() => {\r\n    if(didMount){\r\n      const dbx = new Dropbox({ accessToken: token$.value, fetch });\r\n      dbx.filesSearch({\r\n        path: \"\",\r\n        query: searchValue,\r\n      })\r\n      .then(res => {\r\n        let value = res.matches.map(file => {\r\n          return file.metadata\r\n        })\r\n        setCurrentSearchFolder(value);\r\n      })\r\n    }\r\n  }, [debouncedQuery]); // eslint-disable-line\r\n\r\n  function searchFile (e) {\r\n    if(e === \"\"){\r\n      setSearchValue(\"\")\r\n    }else{\r\n      setSearchValue(e.target.value);\r\n    }\r\n  }\r\n  // SearchFunction ends\r\n\r\n  return (\r\n    <>\r\n    {\r\n      redirectLogout ? <Redirect to=\"/\"/> :\r\n      <div className={styles.home}>\r\n        <div className={styles['home__left-container']}>\r\n          <Navigation newFile={() => setNewFolder(true)} uploadFile={() => setUploadFile(true)} signOut={signOut} user={user}/>\r\n        </div>\r\n\r\n        <div className={styles['home__right-container']}>\r\n          <Header history={props.history} searchlist={currentSearchFolder} currentPath={props.location} searchFile={searchFile} value={searchValue}/>\r\n          <Content favorites={favorites} removeFavorite={removeFavorite} addFavorite={addFavorite} deleteFile={deleteFileDialog} copyFile={copyFileDialog} currentFolder={currentFolder} currentPath={currentPath} downloadFile={downloadFileRequest} renameFileFunc={renameFileDialog} moveFileFunc={moveFileDialog}/>\r\n        </div>\r\n      </div>\r\n    }\r\n    {moveFile ? <MoveFile closeMoveFile={() => setMoveFile(false)} moveFileRequest={moveFileRequest} selectedFile={moveFileData}/> : null}\r\n    {copyFile ? <CopyFile closeCopyFile={() => setCopyFile(false)} copyFileRequest={copyFileRequest} selectedFile={copyFileData}/> : null}\r\n    {renameFile ? <RenameFile fileData={renameFileData} onRenameFileChange={onRenameFileChange} renameFileRequest={renameFileRequest} closeRenameFile={() => setRenameFile(false)}/> : null}\r\n    {uploadFile ? <UploadFile closeClick={() => setUploadFile(false)} uploadFileRequest={uploadFileRequest}/> : null}\r\n    {newFolder === true ? <Dialog currentPath={currentPath} exitDialog={() => setNewFolder(false)} /> : null}\r\n    {deleteFile ? <DeleteFile file={deleteFileData} deleteFileRequest={deleteFileRequest} closeDialog={() => setDeleteFile(false)}/> : null}\r\n    </>\r\n)\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport Login from './Components/js/Login';\r\nimport Home from './Components/js/Home';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <div>\r\n        <Route exact path='/' component={Login}/>\r\n        <Route path='/home' component={Home}/>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Dialog_overlay__14uGF\",\"Dialog\":\"Dialog_Dialog__1_qKg\",\"Dialog__header\":\"Dialog_Dialog__header__2euaA\",\"Dialog__header-left\":\"Dialog_Dialog__header-left__UtTDn\",\"Dialog__header-right\":\"Dialog_Dialog__header-right__28emy\",\"Dialog__header-icon\":\"Dialog_Dialog__header-icon__GXRrj\",\"Dialog__header-text\":\"Dialog_Dialog__header-text__1nmvc\",\"Dialog__header-close\":\"Dialog_Dialog__header-close__1_TqG\",\"Dialog__content\":\"Dialog_Dialog__content__2hA91\",\"Dialog__content-text\":\"Dialog_Dialog__content-text__3xeCF\",\"Dialog__content-input\":\"Dialog_Dialog__content-input__23AaZ\",\"Dialog__footer\":\"Dialog_Dialog__footer__1I1O5\",\"Dialog__footer-create\":\"Dialog_Dialog__footer-create__H9vJo\",\"Dialog__footer-cancel\":\"Dialog_Dialog__footer-cancel__3J9VU\"};"],"sourceRoot":""}